{"remainingRequest":"C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\src\\views\\StudentArea\\Auth\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\src\\views\\StudentArea\\Auth\\Login.vue","mtime":1625907300881},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi9Vc2Vycy90YW1lci9EZXNrdG9wL01BSU4vTWFpbjIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICBlcnJvcl9lbWFpbDogZmFsc2UsCiAgICAgIGVycm9yX3Bhc3N3b3JkOiBmYWxzZSwKICAgICAgZXJyb3JfbWVzc2FnZTogbnVsbCwKICAgICAgZXJyb3JfbG9naW5fbWVzc2FnZTogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKFsiU0hPV19NT0RBTCJdKSksIHt9LCB7CiAgICBjaGVja0VtYWlsOiBmdW5jdGlvbiBjaGVja0VtYWlsKCkgewogICAgICB0aGlzLlNIT1dfTU9EQUwoImNoZWNrIik7CiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHNlbmRpbmdEYXRhID0ge307IC8vIGNvbnNvbGUubG9nKCF0aGlzLmVtYWlsLm1hdGNoKC9eWzAtOWEtei0uXStAWzAtOWEtei1dezIsfVwuW2Etel17Mix9JC9pKSkKCiAgICAgIGlmICh0aGlzLmVtYWlsLmxlbmd0aCA9PT0gMCB8fCAhdGhpcy5lbWFpbC5tYXRjaCgvXlswLTlhLXotLl0rQFswLTlhLXotXXsyLH1cLlthLXpdezIsfSQvaSkpIHsKICAgICAgICB0aGlzLmVycm9yX2VtYWlsID0gdHJ1ZTsKICAgICAgICB0aGlzLmVycm9yX21lc3NhZ2UgPSAi0J3QtdC60L7RgNGA0LXQutGC0L3Ri9C5IGVtYWlsIjsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLmVycm9yX2VtYWlsID0gZmFsc2U7CiAgICAgICAgICBfdGhpcy5lcnJvcl9tZXNzYWdlID0gbnVsbDsKICAgICAgICB9LCAyMDAwKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2VuZGluZ0RhdGEuZW1haWwgPSB0aGlzLmVtYWlsOwogICAgICB9CgogICAgICBpZiAodGhpcy5wYXNzd29yZC5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLmVycm9yX3Bhc3N3b3JkID0gdHJ1ZTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfdGhpcy5lcnJvcl9wYXNzd29yZCA9IGZhbHNlOwogICAgICAgIH0sIDIwMDApOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZW5kaW5nRGF0YS5wYXNzd29yZCA9IHRoaXMucGFzc3dvcmQ7CiAgICAgIH0gLy8gY29uc3Qgc2VsZiA9IHRoaXM7CgoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImF1dGgvbG9naW4iLCBzZW5kaW5nRGF0YSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gdGhpcy4kc3RvcmUuZGlzcGF0Y2goImhpZGVfc2hvd19vdmVybGF5IiwgZmFsc2UpOwogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAiL2hvbWUiCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpcy5lcnJvcl9lbWFpbCA9IHRydWU7CiAgICAgICAgX3RoaXMuZXJyb3JfcGFzc3dvcmQgPSB0cnVlOwogICAgICAgIF90aGlzLmVycm9yX2xvZ2luX21lc3NhZ2UgPSAi0J3QtdC/0YDQsNCy0LjQu9GM0L3Ri9C5INC70L7Qs9C40L0g0LjQu9C4INC/0LDRgNC+0LvRjCwg0L/QvtC/0YDQvtCx0YPQudGC0LUg0LXRidC1INGA0LDQty4iOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMuZXJyb3JfZW1haWwgPSBmYWxzZTsKICAgICAgICAgIF90aGlzLmVycm9yX3Bhc3N3b3JkID0gZmFsc2U7CiAgICAgICAgICBfdGhpcy5lcnJvcl9sb2dpbl9tZXNzYWdlID0gbnVsbDsKICAgICAgICB9LCAzMDAwKTsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,SAAA,YAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,WAAA,EAAA,KAHA;AAIA,MAAA,cAAA,EAAA,KAJA;AAKA,MAAA,aAAA,EAAA,IALA;AAMA,MAAA,mBAAA,EAAA;AANA,KAAA;AAQA,GAXA;AAYA,EAAA,OAAA,kCACA,YAAA,CAAA,CAAA,YAAA,CAAA,CADA;AAEA,IAAA,UAFA,wBAEA;AACA,WAAA,UAAA,CAAA,OAAA;AACA,KAJA;AAKA,IAAA,QALA,sBAKA;AAAA;;AACA,UAAA,WAAA,GAAA,EAAA,CADA,CAEA;;AACA,UACA,KAAA,KAAA,CAAA,MAAA,KAAA,CAAA,IACA,CAAA,KAAA,KAAA,CAAA,KAAA,CAAA,yCAAA,CAFA,EAGA;AACA,aAAA,WAAA,GAAA,IAAA;AACA,aAAA,aAAA,GAAA,oBAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,KAAA,CAAA,WAAA,GAAA,KAAA;AACA,UAAA,KAAA,CAAA,aAAA,GAAA,IAAA;AACA,SAHA,EAGA,IAHA,CAAA;AAIA;AACA,OAXA,MAWA;AACA,QAAA,WAAA,CAAA,KAAA,GAAA,KAAA,KAAA;AACA;;AACA,UAAA,KAAA,QAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,aAAA,cAAA,GAAA,IAAA;AACA,QAAA,UAAA,CAAA;AAAA,iBAAA,KAAA,CAAA,cAAA,GAAA,KAAA;AAAA,SAAA,EAAA,IAAA,CAAA;AACA;AACA,OAJA,MAIA;AACA,QAAA,WAAA,CAAA,QAAA,GAAA,KAAA,QAAA;AACA,OAvBA,CAwBA;;;AACA,WAAA,MAAA,CACA,QADA,CACA,YADA,EACA,WADA,EAEA,IAFA,CAEA,YAAA;AACA;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OALA,EAMA,KANA,CAMA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,IAAA;AACA,QAAA,KAAA,CAAA,cAAA,GAAA,IAAA;AACA,QAAA,KAAA,CAAA,mBAAA,GACA,oDADA;AAEA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,KAAA,CAAA,WAAA,GAAA,KAAA;AACA,UAAA,KAAA,CAAA,cAAA,GAAA,KAAA;AACA,UAAA,KAAA,CAAA,mBAAA,GAAA,IAAA;AACA,SAJA,EAIA,IAJA,CAAA;AAKA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OAjBA;AAkBA;AAhDA;AAZA,CAAA","sourcesContent":["<template>\n  <div class=\"v-login\">\n    <form\n      @submit.prevent=\"onSubmit\"\n      class=\"c-login-modal__content v-login__form\"\n    >\n      <h2 class=\"c-login-modal__title\">Вход</h2>\n      <BaseInputText\n        class=\"c-login-modal__field\"\n        icon=\"email\"\n        placeholder=\"Ваша почта\"\n        v-model=\"email\"\n        :error=\"error_email\"\n        :error_message=\"error_message\"\n      />\n      <BaseInputPassword\n        class=\"c-login-modal__field\"\n        placeholder=\"Ваш пароль\"\n        v-model=\"password\"\n        :error=\"error_password\"\n      />\n      <div class=\"c-login-modal__error\">\n        {{ error_login_message }}\n      </div>\n      <button class=\"c-login-modal__register-btn\">\n        Войти\n      </button>\n      <div class=\"c-login-modal__social-login\">\n        <router-link\n          :to=\"{ name: 'PasswordRecovery' }\"\n          class=\"c-login-modal__forgot-password\"\n        >\n          Забыли пароль?\n        </router-link>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { mapMutations } from \"vuex\";\n\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      error_email: false,\n      error_password: false,\n      error_message: null,\n      error_login_message: null\n    };\n  },\n  methods: {\n    ...mapMutations([\"SHOW_MODAL\"]),\n    checkEmail() {\n      this.SHOW_MODAL(\"check\");\n    },\n    onSubmit() {\n      const sendingData = {};\n      // console.log(!this.email.match(/^[0-9a-z-.]+@[0-9a-z-]{2,}\\.[a-z]{2,}$/i))\n      if (\n        this.email.length === 0 ||\n        !this.email.match(/^[0-9a-z-.]+@[0-9a-z-]{2,}\\.[a-z]{2,}$/i)\n      ) {\n        this.error_email = true;\n        this.error_message = \"Некорректный email\";\n        setTimeout(() => {\n          this.error_email = false;\n          this.error_message = null;\n        }, 2000);\n        return;\n      } else {\n        sendingData.email = this.email;\n      }\n      if (this.password.length === 0) {\n        this.error_password = true;\n        setTimeout(() => (this.error_password = false), 2000);\n        return;\n      } else {\n        sendingData.password = this.password;\n      }\n      // const self = this;\n      this.$store\n        .dispatch(\"auth/login\", sendingData)\n        .then(() => {\n          // this.$store.dispatch(\"hide_show_overlay\", false);\n          this.$router.push({ path: \"/home\" });\n        })\n        .catch(err => {\n          this.error_email = true;\n          this.error_password = true;\n          this.error_login_message =\n            \"Неправильный логин или пароль, попробуйте еще раз.\";\n          setTimeout(() => {\n            this.error_email = false;\n            this.error_password = false;\n            this.error_login_message = null;\n          }, 3000);\n          console.log(err);\n        });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.v-login {\n  padding-top: rem(100);\n  &__form {\n    margin: 0 auto;\n    padding-top: rem(78);\n  }\n}\n.c-login-modal {\n  &__error {\n    @extend %text-very-small;\n    color: $red;\n  }\n\n  &__field {\n    width: 100%;\n    margin-bottom: 13px;\n  }\n\n  &__content {\n    @extend %df;\n    @extend %fdc;\n    @extend %jcc;\n    @extend %h100;\n    width: rem(312);\n  }\n\n  &__title {\n    @extend %h2-title-regular;\n    color: $black;\n    margin-bottom: 23px;\n  }\n\n  &__subtitle {\n    font-size: rem(14);\n    line-height: 140%;\n    width: rem(309);\n    margin-bottom: rem(30);\n  }\n\n  &__register-btn {\n    @extend %btn-border-green;\n    @extend %btn-all-green;\n    width: rem(311);\n    margin-top: rem(34);\n    &:hover {\n      @extend %btn-darkgreen;\n    }\n  }\n\n  &__social {\n    @extend %empt-btn;\n    width: 30px;\n    height: 30px;\n    border-radius: 5px;\n    background-repeat: no-repeat;\n\n    &-login {\n      text-align: center;\n      width: rem(311);\n      margin-top: 20px;\n    }\n\n    &:not(:last-child) {\n      margin-right: 11.53px;\n    }\n\n    &-tag {\n      margin-top: rem(40);\n      margin-bottom: rem(10);\n      @extend %ls-5;\n      @extend %regular;\n    }\n  }\n  &__forgot-password {\n    @extend %text-big;\n    color: $red;\n    &:hover {\n      opacity: 0.8;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views/StudentArea/Auth"}]}