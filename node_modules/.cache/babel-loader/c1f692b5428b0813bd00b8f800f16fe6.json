{"remainingRequest":"C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\src\\components\\StudentArea\\HelpPage\\HelpChatModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\src\\components\\StudentArea\\HelpPage\\HelpChatModal.vue","mtime":1626093992738},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIZWxwQ2hhdE1vZGFsIiwKICBwcm9wczogewogICAgdGlja2V0SWQ6IHsKICAgICAgdHlwZTogTnVtYmVyCiAgICB9LAogICAgdGl0bGU6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgZmlyc3RfbWVzc2FnZTogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBtZXNzYWdlczogewogICAgICB0eXBlOiBBcnJheQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5ld19tZXNzYWdlOiBudWxsLAogICAgICBsb2NhbF9tZXNzYWdlOiB0aGlzLm1lc3NhZ2VzCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuJHJlZnMuY2hhdFdpbmRvdy5zY3JvbGxUb3AgPSB0aGlzLiRyZWZzLmNoYXRXaW5kb3cuc2Nyb2xsSGVpZ2h0OwogIH0sCiAgdXBkYXRlZDogZnVuY3Rpb24gdXBkYXRlZCgpIHsKICAgIHRoaXMuJHJlZnMuY2hhdFdpbmRvdy5zY3JvbGxUb3AgPSB0aGlzLiRyZWZzLmNoYXRXaW5kb3cuc2Nyb2xsSGVpZ2h0OwogIH0sCiAgbWV0aG9kczogewogICAgY2hlY2tTY3JvbGw6IGZ1bmN0aW9uIGNoZWNrU2Nyb2xsKHRocykgewogICAgICByZXR1cm4gdGhzLnNjcm9sbFRvcCArIHRocy5jbGllbnRIZWlnaHQ7CiAgICB9LAogICAgc2VuZF9tZXNzYWdlOiBmdW5jdGlvbiBzZW5kX21lc3NhZ2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5uZXdfbWVzc2FnZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJ1c2VyL3NlbmRfdGlja2V0X21lc3NhZ2UiLCB7CiAgICAgICAgICBpZDogdGhpcy50aWNrZXRJZCwKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgaWQ6IHRoaXMudGlja2V0SWQsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLm5ld19tZXNzYWdlCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5sb2NhbF9tZXNzYWdlLnB1c2goewogICAgICAgICAgICBpZDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMzY1KSwKICAgICAgICAgICAgZGVzY3JpcHRpb246IF90aGlzLm5ld19tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAncXVlc3Rpb24nCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpcy5uZXdfbWVzc2FnZSA9IG51bGw7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["HelpChatModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KADA;AAIA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KAJA;AAOA,IAAA,aAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KAPA;AAUA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AAVA,GAFA;AAgBA,EAAA,IAhBA,kBAgBA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,IADA;AAEA,MAAA,aAAA,EAAA,KAAA;AAFA,KAAA;AAIA,GArBA;AAsBA,EAAA,OAtBA,qBAsBA;AACA,SAAA,KAAA,CAAA,UAAA,CAAA,SAAA,GAAA,KAAA,KAAA,CAAA,UAAA,CAAA,YAAA;AACA,GAxBA;AAyBA,EAAA,OAzBA,qBAyBA;AACA,SAAA,KAAA,CAAA,UAAA,CAAA,SAAA,GAAA,KAAA,KAAA,CAAA,UAAA,CAAA,YAAA;AACA,GA3BA;AA4BA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,GADA,EACA;AACA,aAAA,GAAA,CAAA,SAAA,GAAA,GAAA,CAAA,YAAA;AACA,KAHA;AAIA,IAAA,YAJA,0BAIA;AAAA;;AACA,UAAA,KAAA,WAAA,EAAA;AACA,aAAA,MAAA,CAAA,QAAA,CAAA,0BAAA,EAAA;AACA,UAAA,EAAA,EAAA,KAAA,QADA;AAEA,UAAA,IAAA,EAAA;AAAA,YAAA,EAAA,EAAA,KAAA,QAAA;AAAA,YAAA,WAAA,EAAA,KAAA;AAAA;AAFA,SAAA,EAGA,IAHA,CAGA,YAAA;AACA,UAAA,KAAA,CAAA,aAAA,CAAA,IAAA,CAAA;AAAA,YAAA,EAAA,EAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,KAAA,GAAA,CAAA;AAAA,YAAA,WAAA,EAAA,KAAA,CAAA,WAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;;AACA,UAAA,KAAA,CAAA,WAAA,GAAA,IAAA;AACA,SANA;AAOA;AACA;AAdA;AA5BA,CAAA","sourcesContent":["<template>\n  <BaseModal class=\"c-help-chat__modal\">\n    <div class=\"c-help-chat\">\n      <div class=\"c-help-chat__header\">\n<!--        <div class=\"c-help-chat__back\">-->\n<!--          <svg-->\n<!--            width=\"8\"-->\n<!--            height=\"13\"-->\n<!--            viewBox=\"0 0 8 13\"-->\n<!--            fill=\"none\"-->\n<!--            xmlns=\"http://www.w3.org/2000/svg\"-->\n<!--          >-->\n<!--            <path-->\n<!--              d=\"M7 12L1 6.5L7 1\"-->\n<!--              stroke=\"#4B4B4B\"-->\n<!--              stroke-width=\"1.5\"-->\n<!--              stroke-linecap=\"round\"-->\n<!--              stroke-linejoin=\"round\"-->\n<!--            />-->\n<!--          </svg>-->\n<!--          <span>Назад</span>-->\n<!--        </div>-->\n        <router-link :to=\"{ name: 'Help' }\" class=\"c-help-chat__faq-btn\">\n          <span>FAQ</span>\n        </router-link>\n      </div>\n      <div class=\"c-help-chat__chat\">\n        <div class=\"c-help-chat__chat-header\">\n          <h4 class=\"c-help-chat__chat-title\">\n            {{ title }}\n          </h4>\n        </div>\n        <ul class=\"c-help-chat__chat-main\" ref=\"chatWindow\">\n          <BaseChatMessage :description=\"first_message\" :type=\"'question'\"/>\n          <BaseChatMessage v-for=\"message in messages\" :key=\"message.id\" :description=\"message.description\" :type=\"message.type\"/>\n        </ul>\n        <form @submit.prevent=\"send_message\" class=\"c-help-chat__form\">\n          <input type=\"text\" v-model=\"new_message\" placeholder=\"Ваше сообщение...\"/>\n          <button>\n            <svg\n              width=\"22\"\n              height=\"22\"\n              viewBox=\"0 0 22 22\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M20.8273 8.87094L3.33046 0.237309C2.17794 -0.332302 0.790838 0.158655 0.232194 1.3339C-0.0526535 1.93317 -0.0764777 2.62711 0.166565 3.24526L2.89991 10.2109H22C21.7989 9.62331 21.3771 9.14127 20.8273 8.87094Z\"\n                fill=\"#39B100\"\n              />\n              <path\n                d=\"M2.89942 11.7871L0.166073 18.7544C-0.308235 19.9708 0.274278 21.3489 1.46716 21.8326C1.73724 21.9422 2.02513 21.9991 2.31577 22.0003C2.66697 22.0003 3.01365 21.9195 3.32993 21.7639L20.8268 13.1271C21.3765 12.8567 21.7984 12.3747 21.9994 11.7871H2.89942Z\"\n                fill=\"#39B100\"\n              />\n            </svg>\n          </button>\n        </form>\n      </div>\n    </div>\n  </BaseModal>\n</template>\n\n<script>\n\nexport default {\n  name: \"HelpChatModal\",\n  props: {\n    ticketId: {\n      type: Number\n    },\n    title: {\n      type: String\n    },\n    first_message: {\n      type: String\n    },\n    messages: {\n      type: Array\n    }\n  },\n  data() {\n    return {\n      new_message: null,\n      local_message: this.messages\n    };\n  },\n  mounted() {\n    this.$refs.chatWindow.scrollTop = this.$refs.chatWindow.scrollHeight\n  },\n  updated() {\n    this.$refs.chatWindow.scrollTop = this.$refs.chatWindow.scrollHeight\n  },\n  methods: {\n    checkScroll (ths) {\n      return ths.scrollTop + ths.clientHeight\n    },\n    send_message() {\n      if(this.new_message) {\n        this.$store.dispatch(\"user/send_ticket_message\", {\n          id: this.ticketId,\n          data: { id: this.ticketId, description: this.new_message }\n        }).then(() => {\n          this.local_message.push({id: Math.floor(Math.random() *365), description: this.new_message, type: 'question' })\n          this.new_message = null;\n        })\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.c-help-chat {\n  max-width: rem(525);\n  margin: 0 auto;\n  padding-top: 35px;\n  &__header {\n    @extend %df;\n    justify-content: flex-end;\n  }\n  &__faq-btn {\n    @extend %simple-btn-red-border;\n    width: 147px;\n    height: 35px;\n  }\n  &__chat {\n    &-header {\n      width: 100%;\n      height: 60px;\n      @extend %df;\n      @extend %aic;\n      padding-left: 26px;\n      border: 1px solid #D8D8D8;\n      border-radius: 2px 2px 0px 0px;\n      margin-top: 25px;\n    }\n    &-title {\n      @extend %text-big;\n      color: $black;\n    }\n    &-main {\n      background-color: $dark_white;\n      height: 450px;\n      overflow: scroll;\n      padding: 12px 20px 26px;\n      width: 100%;\n    }\n  }\n  &__form {\n    width: 100%;\n    height: 50px;\n    @extend %df;\n    @extend %aic;\n    @extend %jcsb;\n    border: 1px solid #D8D8D8;\n    border-radius: 0px 0px 2px 2px;\n    input {\n      width: 90%;\n      height: 100%;\n      @extend %input-reset;\n      @extend %text-small-big-line-height;\n      color: $gray;\n      padding-left: 30px;\n    }\n    button {\n      width: 42px;\n      height: 100%;\n    }\n  }\n}\n@media screen and (max-width: 1300px) and (min-width: 1100px) and (min-height: 600px) {\n  .c-help-chat {\n    &__modal {\n      overflow: scroll;\n    }\n  }\n}\n  @include bp(766px) {\n    .c-help-chat {\n      max-width: rem(320);\n      overflow: scroll;\n    }\n  }\n</style>\n"],"sourceRoot":"src/components/StudentArea/HelpPage"}]}