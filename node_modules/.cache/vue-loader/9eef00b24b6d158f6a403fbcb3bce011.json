{"remainingRequest":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\src\\views\\StudentArea\\CuratorsPage\\TeacherPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\src\\views\\StudentArea\\CuratorsPage\\TeacherPage.vue","mtime":1626092099322},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUZWFjaGVyQ2FyZCBmcm9tICJAL2NvbXBvbmVudHMvU3R1ZGVudEFyZWEvQ3VyYXRvcnNQYWdlL1RlYWNoZXJDYXJkLnZ1ZSI7CmltcG9ydCB7IG1hcE11dGF0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgTm90aWZpY2F0aW9ucyBmcm9tICJAL2NvbXBvbmVudHMvTm90aWZpY2F0aW9ucyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVGVhY2hlclBhZ2UiLAogIGNvbXBvbmVudHM6IHsKICAgIE5vdGlmaWNhdGlvbnMsCiAgICBUZWFjaGVyQ2FyZAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxlc3NvbnM6IFtdLAogICAgICByZXNlcnZlZF90aW1lczogW10sCiAgICAgIGRheXNPZmY6IFtdLAogICAgICBjdXJhdG9yOiB7CiAgICAgICAgbmFtZTogIlRvbW90aHkgTXVycGh5IiwKICAgICAgICBuYXRpb246ICLQmNGC0LDQu9GM0Y/QvdC10YYiLAogICAgICAgIHBob3RvOiAidXNlci5zdmciLAogICAgICAgIGFib3V0X2NvbnRlbnQ6CiAgICAgICAgICAiPHA+RXhlcmNpdGF0aW9uIG9mZmljaWEgYWQgb2ZmaWNpYSBzaXQgYW1ldCBsYWJvcmlzIExvcmVtIExvcmVtLiBWZW5pYW0gc3VudCBlc3QgZXUgdm9sdXB0YXRlIHV0IG9mZmljaWEgcHJvaWRlbnQgcGFyaWF0dXIgc2ludCBhbWV0IGluIGN1cGlkYXRhdCBlYSBjaWxsdW0uIElydXJlIGZ1Z2lhdCBtYWduYSBkZXNlcnVudCBsYWJvcmUgdmVuaWFtIGN1cGlkYXRhdCB2ZW5pYW0gbWluaW0gZWEgcXVpcyBsYWJvcnVtLjwvcD48cD4gRXhlcmNpdGF0aW9uIG9mZmljaWEgYWQgb2ZmaWNpYSBzaXQgYW1ldCBsYWJvcmlzIExvcmVtIExvcmVtLiBWZW5pYW0gc3VudCBlc3QgZXUgdm9sdXB0YXRlIHV0IG9mZmljaWEgcHJvaWRlbnQgcGFyaWF0dXIgc2ludCBhbWV0IGluIGN1cGlkYXRhdCBlYSBjaWxsdW0uIElydXJlIGZ1Z2lhdCBtYWduYSBkZXNlcnVudCBsYWJvcmUgdmVuaWFtIGN1cGlkYXRhdCB2ZW5pYW0gbWluaW0gZWEgcXVpcyBsYWJvcnVtLkV4ZXJjaXRhdGlvbiBvZmZpY2lhIGFkIG9mZmljaWEgc2l0IGFtZXQgbGFib3JpcyBMb3JlbSBMb3JlbS4gVmVuaWFtIHN1bnQgZXN0IGV1IHZvbHVwdGF0ZSB1dCBvZmZpY2lhIHByb2lkZW50IHBhcmlhdHVyIHNpbnQgYW1ldCBpbiBjdXBpZGF0YXQgZWEgY2lsbHVtLjwvcD4iCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBNdXRhdGlvbnMoWyJBRERfTk9USUZJQ0FUSU9OIiwgIlNIT1dfTU9EQUwiXSksCiAgICBjYWxlbmRhckV2ZW50KGRhdGEpIHsKICAgICAgY29uc3QgY3VyYXRvciA9IHsKICAgICAgICBpZDogdGhpcy5jdXJhdG9yLmlkLAogICAgICAgIHBob3RvOiB0aGlzLmN1cmF0b3IucGhvdG8sCiAgICAgICAgZmlyc3RfbmFtZTogdGhpcy5jdXJhdG9yLmZpcnN0X25hbWUsCiAgICAgICAgbGFzdF9uYW1lOiB0aGlzLmN1cmF0b3IubGFzdF9uYW1lLAogICAgICAgIGFib3V0OiB0aGlzLmN1cmF0b3IuYWJvdXQKICAgICAgfTsKICAgICAgLy8gY29uc3QgeyBkYXlzIH0gPSB0aGlzLmN1cmF0b3I7CiAgICAgIGlmIChkYXRhLnR5cGUubmFtZSA9PSAiYWRkLWxlc3NvbiIpIHsKICAgICAgICBjb25zdCByZXNlcnZlZF9mb3JfZGF5ID0gdGhpcy5yZXNlcnZlZF90aW1lcy5maWx0ZXIoCiAgICAgICAgICBsZXNzb24gPT4gbGVzc29uLmRheSA9PT0gZGF0YS5kYXRlLmZ1bGxEYXRlCiAgICAgICAgKTsKICAgICAgICBjb25zdCBEYXRhRm9yTW9kYWwgPSB7CiAgICAgICAgICBjdXJhdG9yOiBjdXJhdG9yLAogICAgICAgICAgZGF5OiBkYXRhLmRhdGUuZnVsbERhdGUKICAgICAgICB9OwogICAgICAgIHJlc2VydmVkX2Zvcl9kYXkubGVuZ3RoID4gMAogICAgICAgICAgPyAoRGF0YUZvck1vZGFsLnJlc2VydmVkID0gcmVzZXJ2ZWRfZm9yX2RheSkKICAgICAgICAgIDogW107CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNob3dfcmVzZXJ2YXRpb25fbGVzc29uX21vZGFsIiwgewogICAgICAgICAgZGF0YTogRGF0YUZvck1vZGFsLAogICAgICAgICAgbW9kYWxfbmFtZTogInJlc2VydmF0aW9uLWxlc3NvbiIKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUubmFtZSA9PSAibGVzc29ucy1tb2RhbCIpIHsKICAgICAgICB0aGlzLlNIT1dfTU9EQUwoImxlc3NvbnMtbW9kYWwiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgibm90aWZpY2F0aW9ucy9hZGRfbm90aWZpY2F0aW9uIiwgewogICAgICAgICAgdHlwZTogImRhbmdlciIsCiAgICAgICAgICB0ZXh0OiAi0JfQsNC90Y/RgtC40LUg0YEg0L/RgNC10L/QvtC00LDQstCw0YLQtdC70LXQvCDQsiDRjdGC0L7RgiDQtNC10L3RjCDQvdC10LLQvtC30LzQvtC20L3Qvi4iCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBsZXNzb25zX2FycmF5KCkgewogICAgICByZXR1cm4gdGhpcy5sZXNzb25zOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGNvbnN0IHsgZGF5cywgZGF5X29mZiwgdGltZV9vZmYgfSA9IHRoaXMuY3VyYXRvcjsKICAgIGNvbnN0IHJlc3VsdCA9IFtdOwogICAgY29uc3QgdXNlcl9pZCA9IHRoaXMuJHN0b3JlLmdldHRlcnNbInVzZXIvdXNlcl9pZCJdOwogICAgY29uc3QgcmVzZXJ2ZWRfdGltZXMgPSBbXTsKICAgIGRheXMuZm9yRWFjaChkYXkgPT4gewogICAgICBjb25zdCBpc191c2VyX2xlc3NvbnMgPQogICAgICAgIGRheS50aW1lcy5maWx0ZXIodGltZSA9PiB0aW1lLnVzZXJfaWQgPT09IHVzZXJfaWQpLmxlbmd0aCA+IDA7CiAgICAgIGlmIChpc191c2VyX2xlc3NvbnMpIHsKICAgICAgICByZXN1bHQucHVzaCh7IGRheTogZGF5LmRheSwgaWQ6IGRheS5pZCB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkYXkudGltZXMuZm9yRWFjaCgKICAgICAgICAgICh7IGlkLCBob3VyX2Zyb20sIGhvdXJfdG8sIG1pbnV0ZV9mcm9tLCBtaW51dGVfdG8gfSkgPT4gewogICAgICAgICAgICByZXNlcnZlZF90aW1lcy5wdXNoKHsKICAgICAgICAgICAgICBkYXk6IGRheS5kYXksCiAgICAgICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgICAgIGZyb21Ib3VyOiBob3VyX2Zyb20sCiAgICAgICAgICAgICAgZnJvbU1pbnV0ZXM6IG1pbnV0ZV9mcm9tLAogICAgICAgICAgICAgIHRvSG91cjogaG91cl90bywKICAgICAgICAgICAgICB0b01pbnV0ZXM6IG1pbnV0ZV90byArIDUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgKTsKICAgICAgfQogICAgfSk7CiAgICBjb25zdCBkYXlPZmYgPSBkYXlfb2ZmLm1hcCgoeyBjYWxlbmRhcl9kYXkgfSkgPT4gY2FsZW5kYXJfZGF5KTsKCiAgICB0aW1lX29mZi5mb3JFYWNoKAogICAgICAoeyBjYWxlbmRhcl9kYXksIGhvdXJfZnJvbSwgbWludXRlX2Zyb20sIGhvdXJfdG8sIG1pbnV0ZV90byB9KSA9PiB7CiAgICAgICAgcmVzZXJ2ZWRfdGltZXMucHVzaCh7CiAgICAgICAgICBkYXk6IGNhbGVuZGFyX2RheSwKICAgICAgICAgIGlkOiBjYWxlbmRhcl9kYXksCiAgICAgICAgICBmcm9tSG91cjogK2hvdXJfZnJvbSwKICAgICAgICAgIGZyb21NaW51dGVzOiArbWludXRlX2Zyb20sCiAgICAgICAgICB0b0hvdXI6ICtob3VyX3RvLAogICAgICAgICAgdG9NaW51dGVzOiArbWludXRlX3RvICsgNQogICAgICAgIH0pOwogICAgICB9CiAgICApOwogICAgdGhpcy5kYXlzT2ZmID0gZGF5T2ZmOwogICAgdGhpcy5sZXNzb25zID0gcmVzdWx0OwogICAgdGhpcy5yZXNlcnZlZF90aW1lcyA9IHJlc2VydmVkX3RpbWVzOwogIH0KfTsK"},{"version":3,"sources":["TeacherPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TeacherPage.vue","sourceRoot":"src/views/StudentArea/Curators","sourcesContent":["<template>\n  <div class=\"c-teacher-page\">\n    <div class=\"c-teacher-page__header\">\n      <router-link :to=\"{ name: 'HomePage' }\" class=\"c-teacher-page__back\">\n        <div class=\"inline-block\">\n          <svg\n            width=\"8\"\n            height=\"13\"\n            viewBox=\"0 0 8 13\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M7 12L1 6.5L7 1\"\n              stroke=\"#4B4B4B\"\n              stroke-width=\"1.5\"\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n            />\n          </svg>\n        </div>\n        <div class=\"inline-block\">Назад</div>\n      </router-link>\n    </div>\n    <div class=\"c-teacher-page__teacher-card\">\n      <TeacherCard\n        :hideContentOnClick=\"false\"\n        class=\"open\"\n        :curator_nation=\"curator.nation\"\n        :curator_name=\"curator.name\"\n        :curator_photo=\"curator.photo\"\n        :curator_short_description=\"curator.about_content\"\n      />\n    </div>\n    <div class=\"c-teacher-page__calendar\">\n      <BaseCalendar\n        :lessons=\"lessons_array\"\n        :daysOff=\"daysOff\"\n        @click=\"calendarEvent\"\n      />\n    </div>\n    <Notifications />\n  </div>\n</template>\n\n<script>\nimport TeacherCard from \"@/components/StudentArea/CuratorsPage/TeacherCard.vue\";\nimport { mapMutations } from \"vuex\";\nimport Notifications from \"@/components/Notifications\";\nexport default {\n  name: \"TeacherPage\",\n  components: {\n    Notifications,\n    TeacherCard\n  },\n  data() {\n    return {\n      lessons: [],\n      reserved_times: [],\n      daysOff: [],\n      curator: {\n        name: \"Tomothy Murphy\",\n        nation: \"Итальянец\",\n        photo: \"user.svg\",\n        about_content:\n          \"<p>Exercitation officia ad officia sit amet laboris Lorem Lorem. Veniam sunt est eu voluptate ut officia proident pariatur sint amet in cupidatat ea cillum. Irure fugiat magna deserunt labore veniam cupidatat veniam minim ea quis laborum.</p><p> Exercitation officia ad officia sit amet laboris Lorem Lorem. Veniam sunt est eu voluptate ut officia proident pariatur sint amet in cupidatat ea cillum. Irure fugiat magna deserunt labore veniam cupidatat veniam minim ea quis laborum.Exercitation officia ad officia sit amet laboris Lorem Lorem. Veniam sunt est eu voluptate ut officia proident pariatur sint amet in cupidatat ea cillum.</p>\"\n      }\n    };\n  },\n  methods: {\n    ...mapMutations([\"ADD_NOTIFICATION\", \"SHOW_MODAL\"]),\n    calendarEvent(data) {\n      const curator = {\n        id: this.curator.id,\n        photo: this.curator.photo,\n        first_name: this.curator.first_name,\n        last_name: this.curator.last_name,\n        about: this.curator.about\n      };\n      // const { days } = this.curator;\n      if (data.type.name == \"add-lesson\") {\n        const reserved_for_day = this.reserved_times.filter(\n          lesson => lesson.day === data.date.fullDate\n        );\n        const DataForModal = {\n          curator: curator,\n          day: data.date.fullDate\n        };\n        reserved_for_day.length > 0\n          ? (DataForModal.reserved = reserved_for_day)\n          : [];\n        this.$store.dispatch(\"show_reservation_lesson_modal\", {\n          data: DataForModal,\n          modal_name: \"reservation-lesson\"\n        });\n      } else if (data.type.name == \"lessons-modal\") {\n        this.SHOW_MODAL(\"lessons-modal\");\n      } else {\n        this.$store.dispatch(\"notifications/add_notification\", {\n          type: \"danger\",\n          text: \"Занятие с преподавателем в этот день невозможно.\"\n        });\n      }\n    }\n  },\n  computed: {\n    lessons_array() {\n      return this.lessons;\n    }\n  },\n  created() {\n    const { days, day_off, time_off } = this.curator;\n    const result = [];\n    const user_id = this.$store.getters[\"user/user_id\"];\n    const reserved_times = [];\n    days.forEach(day => {\n      const is_user_lessons =\n        day.times.filter(time => time.user_id === user_id).length > 0;\n      if (is_user_lessons) {\n        result.push({ day: day.day, id: day.id });\n      } else {\n        day.times.forEach(\n          ({ id, hour_from, hour_to, minute_from, minute_to }) => {\n            reserved_times.push({\n              day: day.day,\n              id: id,\n              fromHour: hour_from,\n              fromMinutes: minute_from,\n              toHour: hour_to,\n              toMinutes: minute_to + 5\n            });\n          }\n        );\n      }\n    });\n    const dayOff = day_off.map(({ calendar_day }) => calendar_day);\n\n    time_off.forEach(\n      ({ calendar_day, hour_from, minute_from, hour_to, minute_to }) => {\n        reserved_times.push({\n          day: calendar_day,\n          id: calendar_day,\n          fromHour: +hour_from,\n          fromMinutes: +minute_from,\n          toHour: +hour_to,\n          toMinutes: +minute_to + 5\n        });\n      }\n    );\n    this.daysOff = dayOff;\n    this.lessons = result;\n    this.reserved_times = reserved_times;\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.c-teacher-page {\n  @extend %pagept;\n  margin-left: $ml;\n  margin-bottom: 31px;\n  .teacher__arrow {\n    display: none;\n  }\n  &__header {\n    margin-bottom: rem(32);\n  }\n\n  // .c-teacher-page__back\n\n  &__back {\n    @extend %btn-text;\n    color: $gray;\n    transition: all 0.5s ease;\n    svg {\n      margin-right: 10px;\n      path {\n        transition: all 0.5s ease;\n      }\n    }\n    &:hover {\n      color: $green;\n      svg {\n        path {\n          stroke: $green;\n        }\n      }\n    }\n  }\n\n  // .c-teacher-page__teacher-card\n\n  &__teacher-card {\n    margin-bottom: 67px;\n  }\n\n  // .c-teacher-page__calendar\n\n  &__calendar {\n  }\n}\n.open {\n}\n@include bp(1100px) {\n  .c-teacher-page {\n    padding: 50px 0 0 0;\n    margin: 0 auto;\n    max-width: 750px;\n  }\n}\n@include bp(766px) {\n  .c-teacher-page {\n    max-width: 320px;\n  }\n}\n</style>\n"]}]}