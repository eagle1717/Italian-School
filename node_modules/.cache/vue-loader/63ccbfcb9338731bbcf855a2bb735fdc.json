{"remainingRequest":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\src\\views\\Registration.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\src\\views\\Registration.vue","mtime":1625895134153},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi52LXJlZ2lzdHJhdGlvbiB7CiAgQGV4dGVuZCAlZGY7CiAgQGV4dGVuZCAlamNjOwogIHBhZGRpbmctdG9wOiByZW0oMTAwKTsKfQouYy1yZWdpc3Rlci1tb2RhbCB7CiAgJl9fZmllbGQgewogICAgd2lkdGg6IDEwMCU7CiAgICBtYXJnaW4tYm90dG9tOiByZW0oMTYpOwogIH0KCiAgJl9fY29udGVudCB7CiAgICBAZXh0ZW5kICVkZjsKICAgIEBleHRlbmQgJWZkYzsKICAgIC8vIEBleHRlbmQgJWpjYzsKICAgIEBleHRlbmQgJWgxMDA7CiAgICB3aWR0aDogcmVtKDMxMSk7CiAgICAmLnYtcmVnaXN0cmF0aW9uIHsKICAgICAgJl9fZnJvbSB7CiAgICAgICAgbWFyZ2luOiAwIGF1dG87CiAgICAgIH0KICAgIH0KICB9CgogICZfX3RpdGxlIHsKICAgIEBleHRlbmQgJWgyLXRpdGxlLXJlZ3VsYXI7CiAgICBjb2xvcjogJGJsYWNrOwogIH0KCiAgJl9fc3VidGl0bGUgewogICAgQGV4dGVuZCAldGV4dC1zbWFsbC1iaWctbGluZS1oZWlnaHQ7CiAgICBjb2xvcjogJGJsYWNrOwogICAgbWF4LXdpZHRoOiByZW0oMzAwKTsKICAgIG1hcmdpbjogcmVtKDUpIDAgcmVtKDM3KSAwOwogIH0KCiAgJl9fcmVnaXN0ZXItYnRuIHsKICAgIEBleHRlbmQgJWJ0bi1ib3JkZXItZ3JlZW47CiAgICBAZXh0ZW5kICVidG4tYWxsLWdyZWVuOwogICAgd2lkdGg6IHJlbSgzMTEpOwogICAgbWFyZ2luLXRvcDogcmVtKDIwKTsKICB9CgogICZfX3NvY2lhbCB7CiAgICBAZXh0ZW5kICVlbXB0LWJ0bjsKICAgIHdpZHRoOiAzMHB4OwogICAgaGVpZ2h0OiAzMHB4OwogICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsKCiAgICAmLXJlZ2lzdGVyIHsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICB3aWR0aDogcmVtKDMxMSk7CiAgICB9CgogICAgJjpub3QoOmxhc3QtY2hpbGQpIHsKICAgICAgbWFyZ2luLXJpZ2h0OiAxMS41M3B4OwogICAgfQoKICAgICYtdGFnIHsKICAgICAgbWFyZ2luLXRvcDogcmVtKDQwKTsKICAgICAgbWFyZ2luLWJvdHRvbTogcmVtKDEwKTsKICAgICAgQGV4dGVuZCAlbHMtNTsKICAgICAgQGV4dGVuZCAlcmVndWxhcjsKICAgIH0KCiAgICAmLS1nb29nbGUgewogICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJGltZ19kaXIrIi9pY29ucy9nb29nbGUtYXV0aC5zdmciKTsKICAgIH0KCiAgICAmLS1mYWNlYm9vayB7CiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgkaW1nX2RpcisiL2ljb25zL2ZiLWF1dGguc3ZnIik7CiAgICB9CgogICAgJi0tdmsgewogICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJGltZ19kaXIrIi9pY29ucy92ay1hdXRoLnN2ZyIpOwogICAgfQoKICAgICZfX3NvY2lhbHMgewogICAgICBAZXh0ZW5kICVkZjsKICAgICAgQGV4dGVuZCAlYWljOwogICAgfQogIH0KfQo="},{"version":3,"sources":["Registration.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Registration.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"v-registration\">\n    <form\n      @submit.prevent=\"onSubmit\"\n      class=\"c-register-modal__content v-registration__form\"\n    >\n      <h2 class=\"c-register-modal__title\">Быстрая регистрация</h2>\n      <p class=\"c-register-modal__subtitle\">\n        Для доступа к функциям личного кабинета необходимо зарегистрироваться.\n      </p>\n      <BaseInputText\n        class=\"c-register-modal__field\"\n        icon=\"user\"\n        placeholder=\"Ваше имя\"\n        v-model=\"first_name\"\n        :error=\"error_name\"\n      />\n      <BaseInputText\n        class=\"c-register-modal__field\"\n        icon=\"email\"\n        placeholder=\"Ваша почта\"\n        v-model=\"email\"\n        :error=\"error_email\"\n        :error_message=\"error_email_message\"\n      />\n      <BaseInputPassword\n        class=\"c-register-modal__field\"\n        placeholder=\"Придумайте пароль\"\n        :showProgress=\"true\"\n        v-model=\"password\"\n        :error=\"error_password\"\n        :error_message=\"error_password_message\"\n      />\n      <button class=\"c-register-modal__register-btn\">\n        <span>Зарегистрироваться</span>\n      </button>\n      <div class=\"c-register-modal__social-register\">\n        <p class=\"c-register-modal__social-tag\">Регистрация через:</p>\n        <div class=\"c-register-modal__socials\">\n          <button\n            class=\"c-register-modal__social c-register-modal__social--google\"\n          ></button>\n          <button\n            class=\"c-register-modal__social c-register-modal__social--facebook\"\n          ></button>\n          <button\n            class=\"c-register-modal__social c-register-modal__social--vk\"\n          ></button>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\n// import DefaultNavBar from \"../components/DefaultNavBar\";\nimport { mapMutations } from \"vuex\";\n\nexport default {\n  name: \"Registration\",\n  // components: {DefaultNavBar}\n  data() {\n    return {\n      first_name: \"\",\n      email: \"\",\n      password: \"\",\n      error_name: false,\n      error_email: false,\n      error_password: false,\n      error_email_message: null,\n      error_password_message: null\n    };\n  },\n  methods: {\n    ...mapMutations([\"SHOW_MODAL\"]),\n    onSubmit() {\n      const registerData = {\n        ...(this.$store.getters['user/quiz'] && Object.keys(this.$store.getters['user/quiz']).length > 0 && {\n          ...this.$store.getters['user/quiz']\n        })\n      };\n      if (this.first_name.length === 0) {\n        this.error_name = true;\n        setTimeout(() => (this.error_name = false), 2000);\n        return;\n      } else {\n        registerData.first_name = this.first_name;\n      }\n      if (\n        this.email.length === 0 ||\n        !this.email.match(/^[0-9a-z-.]+@[0-9a-z-]{2,}\\.[a-z]{2,}$/i)\n      ) {\n        this.error_email = true;\n        this.error_email_message = \"Некорректный email\";\n        setTimeout(() => {\n          this.error_email = false;\n          this.error_email_message = null;\n        }, 2000);\n        return;\n      } else {\n        registerData.email = this.email;\n      }\n      if (this.password.length === 0 || this.password.length < 6) {\n        this.error_password = true;\n        this.error_password_message =\n          \"Ненадежный пароль (Используйте символы A-z, 0-9)\";\n        setTimeout(() => {\n          this.error_password = false;\n          this.error_password_message = null;\n        }, 2000);\n        return;\n      } else {\n        registerData.password = this.password;\n      }\n\n\n\n      this.$store\n        .dispatch(\"auth/register\", registerData)\n        .then(() => {\n          this.SHOW_MODAL(\"check\");\n        })\n        .catch(statusCode => {\n          if (statusCode === 422) {\n            this.error_email = true;\n            this.error_email_message =\n              \"На эту почту уже зарегистрирован аккаунт\";\n            setTimeout(() => {\n              this.error_email = false;\n              this.error_email_message = null;\n            }, 3000);\n          }\n        });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.v-registration {\n  @extend %df;\n  @extend %jcc;\n  padding-top: rem(100);\n}\n.c-register-modal {\n  &__field {\n    width: 100%;\n    margin-bottom: rem(16);\n  }\n\n  &__content {\n    @extend %df;\n    @extend %fdc;\n    // @extend %jcc;\n    @extend %h100;\n    width: rem(311);\n    &.v-registration {\n      &__from {\n        margin: 0 auto;\n      }\n    }\n  }\n\n  &__title {\n    @extend %h2-title-regular;\n    color: $black;\n  }\n\n  &__subtitle {\n    @extend %text-small-big-line-height;\n    color: $black;\n    max-width: rem(300);\n    margin: rem(5) 0 rem(37) 0;\n  }\n\n  &__register-btn {\n    @extend %btn-border-green;\n    @extend %btn-all-green;\n    width: rem(311);\n    margin-top: rem(20);\n  }\n\n  &__social {\n    @extend %empt-btn;\n    width: 30px;\n    height: 30px;\n    border-radius: 5px;\n    background-repeat: no-repeat;\n\n    &-register {\n      text-align: center;\n      width: rem(311);\n    }\n\n    &:not(:last-child) {\n      margin-right: 11.53px;\n    }\n\n    &-tag {\n      margin-top: rem(40);\n      margin-bottom: rem(10);\n      @extend %ls-5;\n      @extend %regular;\n    }\n\n    &--google {\n      background-image: url($img_dir+\"/icons/google-auth.svg\");\n    }\n\n    &--facebook {\n      background-image: url($img_dir+\"/icons/fb-auth.svg\");\n    }\n\n    &--vk {\n      background-image: url($img_dir+\"/icons/vk-auth.svg\");\n    }\n\n    &__socials {\n      @extend %df;\n      @extend %aic;\n    }\n  }\n}\n</style>\n"]}]}