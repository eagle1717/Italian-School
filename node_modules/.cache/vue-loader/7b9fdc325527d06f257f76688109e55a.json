{"remainingRequest":"C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\src\\components\\Base\\BaseCalendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\src\\components\\Base\\BaseCalendar.vue","mtime":1626090907043},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\Main2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IEJhc2VDYWxlbmRhckRheSBmcm9tICIuL0Jhc2VDYWxlbmRhckRheSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IEJhc2VDYWxlbmRhckRheSB9LAogIHByb3BzOiB7CiAgICBsZXNzb25zOiB7CiAgICAgIHR5cGU6IEFycmF5CiAgICB9LAogICAgZGF5c09mZjogewogICAgICB0eXBlOiBBcnJheQogICAgfSwKICAgIGlzX2N1cmF0b3I6IHsKICAgICAgdHlwZTogQm9vbGVhbgogICAgfSwKICAgIG1ha2VfZGF5X29mZjogewogICAgICB0eXBlOiBCb29sZWFuCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdG9kYXk6IG51bGwsCiAgICAgIGRhdGVDb250ZXh0OiBudWxsLAogICAgICBzdGF0aWNEYXlzOiBbItCf0L0iLCAi0JLRgiIsICLQodGAIiwgItCn0YIiLCAi0J/RgiIsICLQodCxIiwgItCS0YEiXSwKICAgICAgc3RhdGljRGF5c0lUOiBbIkx1biIsICJNYXIiLCAiTWVyIiwgIkdpbyIsICJWZW4iLCAiU2FiIiwgIkRvbSJdLAogICAgICBsZXNzb25JbnNpZGVBcnJheTogW10sCiAgICAgIGRheXNPZmZJbnNpZGU6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIG1vbWVudC5sb2NhbGUoInJ1Iik7CiAgICB0aGlzLnRvZGF5ID0gbW9tZW50KCk7CiAgICB0aGlzLmRhdGVDb250ZXh0ID0gbW9tZW50KCk7CiAgICB0aGlzLnVwZGF0ZURhdGEoKTsKICAgIHRoaXMuJGVtaXQoImluaXREYXRlIiwgdGhpcy50b2RheS5mb3JtYXQoIllZWVktTU0tREQiKSk7CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy51cGRhdGVEYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRNb250aDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLmRhdGVDb250ZXh0ID0gbW9tZW50KHRoaXMuZGF0ZUNvbnRleHQpLmFkZCgxLCAibW9udGgiKTsKICAgIH0sCiAgICBzdWJ0cmFjdE1vbnRoOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuZGF0ZUNvbnRleHQgPSBtb21lbnQodGhpcy5kYXRlQ29udGV4dCkuc3VidHJhY3QoMSwgIm1vbnRoIik7CiAgICB9LAogICAgY2xpY2tPbkRhdGVJdGVtKGRhdGUpIHsKICAgICAgaWYgKHRoaXMubWFrZV9kYXlfb2ZmKSB7CiAgICAgICAgdGhpcy4kZW1pdCgibWFrZS1kYXktb2ZmIiwgZGF0ZSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc19jdXJhdG9yKSB7CiAgICAgICAgdGhpcy4kZW1pdCgic2hvdy10aW1lbGluZSIsIGRhdGUsIHRoaXMuZGF5c09mZi5pbmNsdWRlcyhkYXRlLmZ1bGxEYXRlKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IGV2ZW50RGF0YSA9IHsKICAgICAgICAgIHR5cGU6IHsKICAgICAgICAgICAgbmFtZTogImFkZC1sZXNzb24iCiAgICAgICAgICB9LAogICAgICAgICAgZGF0ZQogICAgICAgIH07CiAgICAgICAgaWYgKHRoaXMubGVzc29ucykgewogICAgICAgICAgY29uc3QgbGVzc29uSXRlbSA9IHRoaXMubGVzc29ucy5maW5kKGVsID0+IGVsLmRheSA9PT0gZGF0ZS5mdWxsRGF0ZSk7CiAgICAgICAgICBpZiAobGVzc29uSXRlbSkgewogICAgICAgICAgICBldmVudERhdGEudHlwZS5uYW1lID0gImxlc3NvbnMtbW9kYWwiOwogICAgICAgICAgICBldmVudERhdGEudHlwZS5sZXNzb24gPSBsZXNzb25JdGVtOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5kYXlzT2ZmKSB7CiAgICAgICAgICBjb25zdCBkYXlPZkl0ZW0gPSB0aGlzLmRheXNPZmYuZmluZChlbCA9PiBlbCA9PT0gZGF0ZS5mdWxsRGF0ZSk7CiAgICAgICAgICBpZiAoZGF5T2ZJdGVtKSB7CiAgICAgICAgICAgIGV2ZW50RGF0YS50eXBlLm5hbWUgPSAiZGF5LW9mZi1ub3RpZmljYXRpb24iOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB0aGlzLiRlbWl0KCJjbGljayIsIGV2ZW50RGF0YSk7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVEYXRhKCkgewogICAgICBpZiAodGhpcy5sZXNzb25zKSB7CiAgICAgICAgdGhpcy5sZXNzb25JbnNpZGVBcnJheSA9IHRoaXMubGVzc29ucy5tYXAoZWwgPT4gZWwuZGF5KTsKICAgICAgfQogICAgICBpZiAodGhpcy5kYXlzT2ZmKSB0aGlzLmRheXNPZmZJbnNpZGUgPSB0aGlzLmRheXNPZmY7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbW9udGgoKSB7CiAgICAgIHJldHVybiB0aGlzLmRhdGVDb250ZXh0LmZvcm1hdCgiTU1NTSIpOwogICAgfSwKICAgIGRheXNJbk1vbnRoKCkgewogICAgICBjb25zdCBkYXRhID0gWy4uLkFycmF5KHRoaXMuZGF0ZUNvbnRleHQuZGF5c0luTW9udGgoKSldLm1hcCgoXywgaSkgPT4gewogICAgICAgIGNvbnN0IGJhc2VEYXRlID0gdGhpcy5kYXRlQ29udGV4dAogICAgICAgICAgLnN0YXJ0T2YoIm1vbnRoIikKICAgICAgICAgIC5jbG9uZSgpCiAgICAgICAgICAuYWRkKGksICJkYXkiKTsKCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGRheTogYmFzZURhdGUuZm9ybWF0KCJERCIpLAogICAgICAgICAgZnVsbERhdGU6IGJhc2VEYXRlLmZvcm1hdCgiWVlZWS1NTS1ERCIpCiAgICAgICAgfTsKICAgICAgfSk7CiAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICByZXR1cm4gZGF0YTsKICAgIH0sCiAgICBjdXJyZW50RGF0ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZGF0ZUNvbnRleHQuZ2V0KCJkYXRlIik7CiAgICB9LAogICAgZmlyc3REYXlPZk1vbnRoKCkgewogICAgICBjb25zdCBmaXJzdERheSA9IG1vbWVudCh0aGlzLmRhdGVDb250ZXh0KS5zdWJ0cmFjdCgKICAgICAgICB0aGlzLmN1cnJlbnREYXRlIC0gMSwKICAgICAgICAiZGF5cyIKICAgICAgKTsKICAgICAgcmV0dXJuIGZpcnN0RGF5LndlZWtkYXkoKTsKICAgIH0sCiAgICBpbml0aWFsRGF0ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudG9kYXkuZ2V0KCJkYXRlIik7CiAgICB9LAogICAgaW5pdGlhbE1vbnRoKCkgewogICAgICByZXR1cm4gdGhpcy50b2RheS5mb3JtYXQoIk1NTU0iKTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["BaseCalendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BaseCalendar.vue","sourceRoot":"src/components/Base","sourcesContent":["<template>\n  <div class=\"c-calendar\">\n    <div class=\"c-calendar__header\">\n      <template v-if=\"!is_curator\">\n        <h2 class=\"c-calendar__title\">Выберите дату занятия</h2>\n      </template>\n      <div class=\"c-calendar__btns\">\n        <button\n          class=\"c-calendar__btn c-calendar__btn-left\"\n          @click=\"subtractMonth\"\n        >\n          <svg\n            width=\"9\"\n            height=\"16\"\n            viewBox=\"0 0 9 16\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M8 15L0.999999 8L8 1\"\n              stroke=\"#D8D8D8\"\n              stroke-width=\"2\"\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n            />\n          </svg>\n        </button>\n        <p class=\"c-calendar__month-name\">\n          {{ month }}\n        </p>\n        <button class=\"c-calendar__btn c-calendar__btn-right\" @click=\"addMonth\">\n          <svg\n            width=\"9\"\n            height=\"16\"\n            viewBox=\"0 0 9 16\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M1 1L8 8L0.999998 15\"\n              stroke=\"#D8D8D8\"\n              stroke-width=\"2\"\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n            />\n          </svg>\n        </button>\n      </div>\n    </div>\n    <div class=\"c-calendar__wrap\">\n      <div class=\"c-calendar__static-days\">\n        <div\n          v-for=\"staticDay in (!is_curator ? staticDays : staticDaysIT)\"\n          :key=\"staticDay\"\n          class=\"c-calendar__name-days\"\n        >\n          <span>{{ staticDay }}</span>\n        </div>\n      </div>\n      <div class=\"c-calendar__items\">\n        <li\n          v-for=\"(blank, index) in firstDayOfMonth\"\n          :key=\"`${index}-blank`\"\n          class=\"c-calendar__item c-calendar__item_empty\"\n        >\n          &nbsp;\n        </li>\n        <BaseCalendarDay\n          v-for=\"(date, index) in daysInMonth\"\n          :key=\"`${index}-day`\"\n          :date_object=\"date\"\n          :day=\"date.day\"\n          :full_date=\"date.fullDate\"\n          :init-date=\"initialDate\"\n          :init-month=\"initialMonth\"\n          :month=\"month\"\n          :days-off=\"daysOff\"\n          :lessons_array=\"lessonInsideArray\"\n          :is_curator=\"is_curator\"\n          :lessons=\"lessons\"\n          @click=\"clickOnDateItem(date)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport moment from \"moment\";\nimport BaseCalendarDay from \"./BaseCalendarDay\";\nexport default {\n  components: { BaseCalendarDay },\n  props: {\n    lessons: {\n      type: Array\n    },\n    daysOff: {\n      type: Array\n    },\n    is_curator: {\n      type: Boolean\n    },\n    make_day_off: {\n      type: Boolean\n    }\n  },\n  data() {\n    return {\n      today: null,\n      dateContext: null,\n      staticDays: [\"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\", \"Вс\"],\n      staticDaysIT: [\"Lun\", \"Mar\", \"Mer\", \"Gio\", \"Ven\", \"Sab\", \"Dom\"],\n      lessonInsideArray: [],\n      daysOffInside: []\n    };\n  },\n  created() {\n    moment.locale(\"ru\");\n    this.today = moment();\n    this.dateContext = moment();\n    this.updateData();\n    this.$emit(\"initDate\", this.today.format(\"YYYY-MM-DD\"));\n  },\n  mounted() {\n    this.updateData();\n  },\n  methods: {\n    addMonth: function () {\n      this.dateContext = moment(this.dateContext).add(1, \"month\");\n    },\n    subtractMonth: function () {\n      this.dateContext = moment(this.dateContext).subtract(1, \"month\");\n    },\n    clickOnDateItem(date) {\n      if (this.make_day_off) {\n        this.$emit(\"make-day-off\", date);\n      } else if (this.is_curator) {\n        this.$emit(\"show-timeline\", date, this.daysOff.includes(date.fullDate));\n      } else {\n        let eventData = {\n          type: {\n            name: \"add-lesson\"\n          },\n          date\n        };\n        if (this.lessons) {\n          const lessonItem = this.lessons.find(el => el.day === date.fullDate);\n          if (lessonItem) {\n            eventData.type.name = \"lessons-modal\";\n            eventData.type.lesson = lessonItem;\n          }\n        }\n        if (this.daysOff) {\n          const dayOfItem = this.daysOff.find(el => el === date.fullDate);\n          if (dayOfItem) {\n            eventData.type.name = \"day-off-notification\";\n          }\n        }\n        this.$emit(\"click\", eventData);\n      }\n    },\n    updateData() {\n      if (this.lessons) {\n        this.lessonInsideArray = this.lessons.map(el => el.day);\n      }\n      if (this.daysOff) this.daysOffInside = this.daysOff;\n    }\n  },\n  computed: {\n    month() {\n      return this.dateContext.format(\"MMMM\");\n    },\n    daysInMonth() {\n      const data = [...Array(this.dateContext.daysInMonth())].map((_, i) => {\n        const baseDate = this.dateContext\n          .startOf(\"month\")\n          .clone()\n          .add(i, \"day\");\n\n        return {\n          day: baseDate.format(\"DD\"),\n          fullDate: baseDate.format(\"YYYY-MM-DD\")\n        };\n      });\n      // console.log(data);\n      return data;\n    },\n    currentDate() {\n      return this.dateContext.get(\"date\");\n    },\n    firstDayOfMonth() {\n      const firstDay = moment(this.dateContext).subtract(\n        this.currentDate - 1,\n        \"days\"\n      );\n      return firstDay.weekday();\n    },\n    initialDate() {\n      return this.today.get(\"date\");\n    },\n    initialMonth() {\n      return this.today.format(\"MMMM\");\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\"></style>\n"]}]}