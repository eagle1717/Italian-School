{"remainingRequest":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\src\\views\\TeacherTimeLine.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\src\\views\\TeacherTimeLine.vue","mtime":1625895133633},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlRlYWNoZXJDYWxlbmRhciIsCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoInVzZXIiLCBbCiAgICAgICJjdXJhdG9yX2NvbmZpcm1lZF9sZXNzb25zIiwKICAgICAgImN1cmF0b3JfdGltZV9vZmYiLAogICAgICAiY3VyYXRvcl9kYXlfb2ZmIgogICAgXSksCiAgICBsZXNzb25zX2dldHRlcigpIHsKICAgICAgcmV0dXJuIHRoaXMubGVzc29uczsKICAgIH0sCiAgICBkYXlfdGltZWxpbmUoKSB7CiAgICAgIHJldHVybiB0aGlzLnRpbWVfbGluZXM7CiAgICB9LAogICAgZGF5c19vZmYoKSB7CiAgICAgIHJldHVybiB0aGlzLmN1cmF0b3JfZGF5X29mZi5tYXAoKHsgY2FsZW5kYXJfZGF5IH0pID0+IGNhbGVuZGFyX2RheSk7CiAgICB9LAogICAgY29uZmlybWVkX2xlc3NvbnMoKSB7CiAgICAgIGlmICh0aGlzLmN1cmF0b3JfY29uZmlybWVkX2xlc3NvbnMpIHsKICAgICAgICBpZiAodGhpcy5jdXJhdG9yX2NvbmZpcm1lZF9sZXNzb25zLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHJldHVybiB0aGlzLmN1cmF0b3JfY29uZmlybWVkX2xlc3NvbnM7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgYWxsX2xlc3NvbnMoKSB7CiAgICAgIHJldHVybiB0aGlzLmN1cmF0b3JfY29uZmlybWVkX2xlc3NvbnMubWFwKAogICAgICAgICh7CiAgICAgICAgICBpZCwKICAgICAgICAgIHVzZXJfaWQsCiAgICAgICAgICBob21ld29yaywKICAgICAgICAgIGNhbGVuZGFyX2RheSwKICAgICAgICAgIGlzX2hvbWV3b3JrX2NoZWNrZWQsCiAgICAgICAgICBsaW5rX3RvX2xlc3NvbiwKICAgICAgICAgIGlzX2hvbWV3b3JrX2RvbmUsCiAgICAgICAgICBsZXNzb25fdHlwZSwKICAgICAgICAgIGRlc2NyaXB0aW9uLAogICAgICAgICAgZnVsbF9mcm9tLAogICAgICAgICAgZnVsbF90bywKICAgICAgICAgIGhvdXJfZnJvbSwKICAgICAgICAgIGhvdXJfdG8sCiAgICAgICAgICBtaW51dGVfZnJvbSwKICAgICAgICAgIG1pbnV0ZV90bywKICAgICAgICAgIHVzZXI6IHsgZmlyc3RfbmFtZSwgbGFzdF9uYW1lLCBwaG90bywgcGhvdG9fcGF0aCB9CiAgICAgICAgfSkgPT4gewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgICBzdHVkZW50X2lkOiB1c2VyX2lkLAogICAgICAgICAgICBmaXJzdF9uYW1lLAogICAgICAgICAgICBsYXN0X25hbWUsCiAgICAgICAgICAgIHBob3RvOiBwaG90byA/IHBob3RvX3BhdGggOiBudWxsLAogICAgICAgICAgICBkYXRlOiBjYWxlbmRhcl9kYXksCiAgICAgICAgICAgIHRpbWVfZnJvbTogZnVsbF9mcm9tLAogICAgICAgICAgICB0aW1lX3RvOiBmdWxsX3RvLAogICAgICAgICAgICBmcm9tSG91cjogaG91cl9mcm9tLAogICAgICAgICAgICBmcm9tTWludXRlczogbWludXRlX2Zyb20sCiAgICAgICAgICAgIHRvSG91cjogaG91cl90bywKICAgICAgICAgICAgdG9NaW51dGVzOiBtaW51dGVfdG8sCiAgICAgICAgICAgIGxpbmtfdG9fbGVzc29uLAogICAgICAgICAgICBsaW5rX3RvX2hvbWV3b3JrOiBob21ld29yaywKICAgICAgICAgICAgbGVzc29uX2NvbW1lbnQ6IGRlc2NyaXB0aW9uLAogICAgICAgICAgICBsZXNzb25fdHlwZTogbGVzc29uX3R5cGUubmFtZSwKICAgICAgICAgICAgaXNfaG9tZXdvcmtfZG9uZSwKICAgICAgICAgICAgaXNfaG9tZXdvcmtfY2hlY2tlZAogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICk7CiAgICB9LAogICAgYWxsX2xlc3NvbnNfYXJyYXkoKSB7CiAgICAgIHJldHVybiB0aGlzLmFsbF9sZXNzb25zOwogICAgfSwKICAgIGxlc3NvbnMoKSB7CiAgICAgIHJldHVybiB0aGlzLmFsbF9sZXNzb25zLm1hcCgoeyBkYXRlLCBpZCB9KSA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGRheTogZGF0ZSwKICAgICAgICAgIGlkCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgdGltZV9vZmYoKSB7CiAgICAgIHJldHVybiB0aGlzLmN1cmF0b3JfdGltZV9vZmYubWFwKAogICAgICAgICh7CiAgICAgICAgICBjYWxlbmRhcl9kYXksCiAgICAgICAgICBmdWxsX2Zyb20sCiAgICAgICAgICBmdWxsX3RvLAogICAgICAgICAgaG91cl9mcm9tLAogICAgICAgICAgaG91cl90bywKICAgICAgICAgIG1pbnV0ZV9mcm9tLAogICAgICAgICAgbWludXRlX3RvCiAgICAgICAgfSkgPT4gewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaWQ6ICtob3VyX2Zyb20gKyAraG91cl90byArIDM1ICsgTWF0aC5yYW5kb20oKSwKICAgICAgICAgICAgZGF5OiBjYWxlbmRhcl9kYXksCiAgICAgICAgICAgIGZ1bGxfZnJvbSwKICAgICAgICAgICAgZnVsbF90bywKICAgICAgICAgICAgZnJvbUhvdXI6ICtob3VyX2Zyb20sCiAgICAgICAgICAgIHRvSG91cjogK2hvdXJfdG8sCiAgICAgICAgICAgIGZyb21NaW51dGVzOiArbWludXRlX2Zyb20sCiAgICAgICAgICAgIHRvTWludXRlczogK21pbnV0ZV90bwogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICk7CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd19ob3VyX3RpbWVsaW5lOiBmYWxzZSwKICAgICAgdGltZV9saW5lczogW10sCiAgICAgIHRpbWVzX29mZjogW10sCiAgICAgIHNlbGVjdF90aW1lbGluZV9kYXRlOiB1bmRlZmluZWQsCiAgICAgIG1ha2VfZGF5X29mZjogZmFsc2UsCiAgICAgIGN1cnJlbnRfZGF0ZTogIiIsCiAgICAgIGluaXRhbF9kYXRlOiAiIiwKICAgICAgY3VyYXRvcl9uZXdfdGltZV9vZmY6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBtYWtlX2RheV9vZmZfbWV0aG9kKGRhdGEpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInVzZXIvbWFrZV9kYXlfb2ZmIiwgZGF0YS5mdWxsRGF0ZSkudGhlbigoKSA9PiB7CiAgICAgICAgY29uc3QgeyBjYWxlbmRhciB9ID0gdGhpcy4kcmVmczsKICAgICAgICBjYWxlbmRhci5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLCB0aGlzLm1vdXNlTW92ZUxpc3RlbmVyKTsKICAgICAgICB0aGlzLm1ha2VfZGF5X29mZiA9ICF0aGlzLm1ha2VfZGF5X29mZjsKICAgICAgfSk7CiAgICB9LAogICAgc2hvd190aW1lbGluZShjYWxlbmRhckRhdGUpIHsKICAgICAgaWYgKCF0aGlzLnNob3dfaG91cl90aW1lbGluZSkgewogICAgICAgIGxldCByZXN1bHQgPSBbXTsKICAgICAgICBpZiAoY2FsZW5kYXJEYXRlKSB7CiAgICAgICAgICBjb25zdCBpc19oYXZlX3RpbWVfb2ZmID0KICAgICAgICAgICAgdGhpcy50aW1lX29mZi5maWx0ZXIoZWwgPT4gZWwuZGF5ID09PSBjYWxlbmRhckRhdGUuZnVsbERhdGUpCiAgICAgICAgICAgICAgLmxlbmd0aCA+IDA7CgogICAgICAgICAgY29uc3QgaXNfZGF5X29mZiA9IHRoaXMuZGF5c19vZmYuaW5jbHVkZXMoY2FsZW5kYXJEYXRlLmZ1bGxEYXRlKTsKICAgICAgICAgIGlmIChpc19oYXZlX3RpbWVfb2ZmKSB7CiAgICAgICAgICAgIGNvbnN0IGlzX2Z1bGxfZGF5X29mZiA9CiAgICAgICAgICAgICAgdGhpcy50aW1lX29mZi5maWx0ZXIoCiAgICAgICAgICAgICAgICBlbCA9PgogICAgICAgICAgICAgICAgICBlbC5mcm9tSG91ciA9PT0gOSAmJgogICAgICAgICAgICAgICAgICBlbC50b0hvdXIgPT09IDE4ICYmCiAgICAgICAgICAgICAgICAgIGVsLmRheSA9PT0gY2FsZW5kYXJEYXRlLmZ1bGxEYXRlCiAgICAgICAgICAgICAgKS5sZW5ndGggPiAwOwoKICAgICAgICAgICAgaWYgKGlzX2Z1bGxfZGF5X29mZikgewogICAgICAgICAgICAgIHRoaXMudGltZXNfb2ZmID0gaXNfZnVsbF9kYXlfb2ZmOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMudGltZV9vZmYuZm9yRWFjaChlbCA9PiB7CiAgICAgICAgICAgICAgICBpZiAoZWwuZGF5ID09PSBjYWxlbmRhckRhdGUuZnVsbERhdGUpIHsKICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZWwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRoaXMudGltZXNfb2ZmID0gWy4uLnJlc3VsdF07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMudGltZXNfb2ZmID0gW107CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoaXNfZGF5X29mZikgewogICAgICAgICAgICB0aGlzLnRpbWVzX29mZi5wdXNoKHsKICAgICAgICAgICAgICBpZDogMTg5LAogICAgICAgICAgICAgIGRheTogY2FsZW5kYXJEYXRlLmZ1bGxEYXRlLAogICAgICAgICAgICAgIGZ1bGxfZnJvbTogIjk6MDAiLAogICAgICAgICAgICAgIGZ1bGxfdG86ICIxOTowMCIsCiAgICAgICAgICAgICAgZnJvbUhvdXI6IDksCiAgICAgICAgICAgICAgdG9Ib3VyOiAxOCwKICAgICAgICAgICAgICBmcm9tTWludXRlczogMCwKICAgICAgICAgICAgICB0b01pbnV0ZXM6IDU1CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc3QgaW5kZXhUaW1lID0gdGhpcy50aW1lc19vZmYuZmluZEluZGV4KGVsID0+IGVsLmlkID09PSAxODkpOwogICAgICAgICAgICBpZiAoIWluZGV4VGltZSkgewogICAgICAgICAgICAgIHRoaXMudGltZXNfb2ZmLnNwbGljZShpbmRleFRpbWUsIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnRpbWVfbGluZXMgPSB0aGlzLnRpbWVsaW5lX2dldHRlcihjYWxlbmRhckRhdGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zdCB0b2RheSA9IHt9OwogICAgICAgICAgdG9kYXkuZnVsbERhdGUgPSBtb21lbnQoKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgICAgIGNvbnN0IGlzX2hhdmVfdGltZV9vZmYgPSB0aGlzLnRpbWVfb2ZmLmZpbHRlcigKICAgICAgICAgICAgZWwgPT4gZWwuZGF5ID09PSBjYWxlbmRhckRhdGUuZnVsbERhdGUKICAgICAgICAgICk7CiAgICAgICAgICBjb25zdCBpc19kYXlfb2ZmID0gdGhpcy5kYXlzX29mZi5pbmNsdWRlcyhjYWxlbmRhckRhdGUuZnVsbERhdGUpOwogICAgICAgICAgaWYgKGlzX2hhdmVfdGltZV9vZmYubGVuZ3RoID4gMCkgewogICAgICAgICAgICBjb25zdCBpc19mdWxsX2RheV9vZmYgPSBpc19oYXZlX3RpbWVfb2ZmLmZpbHRlcigKICAgICAgICAgICAgICBlbCA9PiBlbC5mcm9tSG91ciA9PT0gOSAmJiBlbC50b0hvdXIgPT09IDE4CiAgICAgICAgICAgICk7CiAgICAgICAgICAgIGlmIChpc19mdWxsX2RheV9vZmYubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIHRoaXMudGltZXNfb2ZmID0gaXNfZnVsbF9kYXlfb2ZmOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMudGltZXNfb2ZmID0gaXNfaGF2ZV90aW1lX29mZjsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy50aW1lc19vZmYgPSBbXTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChpc19kYXlfb2ZmKSB7CiAgICAgICAgICAgIHRoaXMudGltZXNfb2ZmLnB1c2goewogICAgICAgICAgICAgIGlkOiA2MCwKICAgICAgICAgICAgICBkYXk6IGNhbGVuZGFyRGF0ZS5mdWxsRGF0ZSwKICAgICAgICAgICAgICBmdWxsX2Zyb206ICI5OjAwIiwKICAgICAgICAgICAgICBmdWxsX3RvOiAiMTk6MDAiLAogICAgICAgICAgICAgIGZyb21Ib3VyOiA5LAogICAgICAgICAgICAgIHRvSG91cjogMTgsCiAgICAgICAgICAgICAgZnJvbU1pbnV0ZXM6IDAsCiAgICAgICAgICAgICAgdG9NaW51dGVzOiA1NQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnN0IGluZGV4VGltZSA9IHRoaXMudGltZXNfb2ZmLmZpbmRJbmRleChlbCA9PiBlbC5pZCA9PT0gNjApOwogICAgICAgICAgICB0aGlzLnRpbWVzX29mZi5zcGxpY2UoaW5kZXhUaW1lLCAxKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMudGltZV9saW5lcyA9IHRoaXMudGltZWxpbmVfZ2V0dGVyKHRvZGF5KTsKICAgICAgICB9CiAgICAgICAgdGhpcy50aW1lX2xpbmVzID0gdGhpcy50aW1lbGluZV9nZXR0ZXIoY2FsZW5kYXJEYXRlKTsKICAgICAgfQogICAgICBjYWxlbmRhckRhdGUuZnVsbERhdGUKICAgICAgICA/ICh0aGlzLmN1cnJlbnRfZGF0ZSA9IGNhbGVuZGFyRGF0ZS5mdWxsRGF0ZSkKICAgICAgICA6ICh0aGlzLmN1cnJlbnRfZGF0ZSA9IHRoaXMuaW5pdGFsX2RhdGUpOwogICAgICB0aGlzLnNob3dfaG91cl90aW1lbGluZSA9ICF0aGlzLnNob3dfaG91cl90aW1lbGluZTsKICAgIH0sCiAgICB0aW1lbGluZV9nZXR0ZXIoeyBmdWxsRGF0ZSB9KSB7CiAgICAgIHJldHVybiB0aGlzLmFsbF9sZXNzb25zX2FycmF5LmZpbHRlcigoeyBkYXRlIH0pID0+IHsKICAgICAgICBpZiAoZnVsbERhdGUgPT09IGRhdGUpIHJldHVybiB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VfdGltZWxpbmVfZGF0ZShjYWxlbmRhckRhdGUpIHsKICAgICAgY29uc3QgeyBmdWxsRGF0ZSB9ID0gY2FsZW5kYXJEYXRlOwogICAgICBjb25zdCBpc19oYXZlX3RpbWVfb2ZmID0gdGhpcy50aW1lX29mZi5maWx0ZXIoZWwgPT4gZWwuZGF5ID09PSBmdWxsRGF0ZSk7CiAgICAgIGNvbnN0IGlzX2RheV9vZmYgPSB0aGlzLmRheXNfb2ZmLmluY2x1ZGVzKGZ1bGxEYXRlKTsKCiAgICAgIGlmIChpc19oYXZlX3RpbWVfb2ZmLmxlbmd0aCA+IDApIHsKICAgICAgICBjb25zdCBpc19mdWxsX2RheV9vZmYgPSBpc19oYXZlX3RpbWVfb2ZmLmZpbHRlcigKICAgICAgICAgIGVsID0+IGVsLmZyb21Ib3VyID09PSA5ICYmIGVsLnRvSG91ciA9PT0gMTgKICAgICAgICApOwogICAgICAgIGlmIChpc19mdWxsX2RheV9vZmYubGVuZ3RoID4gMCkgewogICAgICAgICAgdGhpcy50aW1lc19vZmYgPSBpc19mdWxsX2RheV9vZmY7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudGltZXNfb2ZmID0gaXNfaGF2ZV90aW1lX29mZjsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50aW1lc19vZmYgPSBbXTsKICAgICAgfQogICAgICBpZiAoaXNfZGF5X29mZikgewogICAgICAgIHRoaXMudGltZXNfb2ZmLnB1c2goewogICAgICAgICAgaWQ6IDYwLAogICAgICAgICAgZGF5OiBjYWxlbmRhckRhdGUuZnVsbERhdGUsCiAgICAgICAgICBmdWxsX2Zyb206ICI5OjAwIiwKICAgICAgICAgIGZ1bGxfdG86ICIxOTowMCIsCiAgICAgICAgICBmcm9tSG91cjogOSwKICAgICAgICAgIHRvSG91cjogMTgsCiAgICAgICAgICBmcm9tTWludXRlczogMCwKICAgICAgICAgIHRvTWludXRlczogNTUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBpbmRleFRpbWUgPSB0aGlzLnRpbWVzX29mZi5maW5kSW5kZXgoZWwgPT4gZWwuaWQgPT09IDYwKTsKICAgICAgICB0aGlzLnRpbWVzX29mZi5zcGxpY2UoaW5kZXhUaW1lLCAxKTsKICAgICAgfQoKICAgICAgdGhpcy50aW1lX2xpbmVzID0gdGhpcy50aW1lbGluZV9nZXR0ZXIoY2FsZW5kYXJEYXRlKTsKICAgIH0sCiAgICBzaG93X2RheV9vZmZfY3Vyc29yKCkgewogICAgICBpZiAodGhpcy5tYWtlX2RheV9vZmYpIHsKICAgICAgICBjb25zdCB7IGNhbGVuZGFyIH0gPSB0aGlzLiRyZWZzOwogICAgICAgIGNhbGVuZGFyLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIHRoaXMubW91c2VNb3ZlTGlzdGVuZXIpOwogICAgICB9CiAgICAgIGlmICh0aGlzLmN1cmF0b3JfbmV3X3RpbWVfb2ZmKSB7CiAgICAgICAgdGhpcy4kc3RvcmUKICAgICAgICAgIC5kaXNwYXRjaCgidXNlci9tYWtlX3RpbWVfb2ZmIiwgdGhpcy5jdXJhdG9yX25ld190aW1lX29mZikKICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5jdXJhdG9yX25ld190aW1lX29mZiA9IG51bGw7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgICB0aGlzLm1ha2VfZGF5X29mZiA9ICF0aGlzLm1ha2VfZGF5X29mZjsKICAgIH0sCiAgICBtb3VzZU1vdmVMaXN0ZW5lcihldmVudCkgewogICAgICBjb25zdCB7IGN1cnNvciB9ID0gdGhpcy4kcmVmczsKICAgICAgY29uc3QgeCA9IGV2ZW50LmNsaWVudFgsCiAgICAgICAgeSA9IGV2ZW50LmNsaWVudFk7CgogICAgICBjdXJzb3Iuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7eH1weCwgJHt5fXB4LCAwKWA7CiAgICB9LAogICAgaW5pdF9kYXRlKGRhdGUpIHsKICAgICAgdGhpcy5jdXJyZW50X2RhdGUgPSBkYXRlOwogICAgICB0aGlzLmluaXRhbF9kYXRlID0gZGF0ZTsKICAgIH0sCiAgICBjaGFuZ2VfY3VyYXRvcl9zbGlkZXIoZGF0YSkgewogICAgICB0aGlzLmN1cmF0b3JfbmV3X3RpbWVfb2ZmID0gZGF0YTsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zdCB7IGNhbGVuZGFyIH0gPSB0aGlzLiRyZWZzOwogICAgaWYgKHRoaXMubWFrZV9kYXlfb2ZmKSB7CiAgICAgIGNhbGVuZGFyLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIHRoaXMubW91c2VNb3ZlTGlzdGVuZXIpOwogICAgfQogIH0sCiAgdXBkYXRlZCgpIHsKICAgIGNvbnN0IHsgY2FsZW5kYXIgfSA9IHRoaXMuJHJlZnM7CiAgICBpZiAodGhpcy5tYWtlX2RheV9vZmYpIHsKICAgICAgY2FsZW5kYXIuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgdGhpcy5tb3VzZU1vdmVMaXN0ZW5lcik7CiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgY29uc3QgeyBjYWxlbmRhciB9ID0gdGhpcy4kcmVmczsKICAgIGlmICh0aGlzLm1ha2VfZGF5X29mZikgewogICAgICBjYWxlbmRhci5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLCB0aGlzLm1vdXNlTW92ZUxpc3RlbmVyKTsKICAgICAgLy8gY2FsZW5kYXIuc3R5bGUuY3Vyc29yID0gJ2F1dG8nCiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["TeacherTimeLine.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TeacherTimeLine.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div\n    class=\"c-teacher-calendar\"\n    ref=\"calendar\"\n    :class=\"{ 'cursor-active': make_day_off }\"\n  >\n    <div\n      class=\"cursor\"\n      :class=\"{ 'cursor-active': make_day_off }\"\n      ref=\"cursor\"\n    ></div>\n    <div class=\"c-teacher-calendar__container\">\n      <div\n        class=\"c-calendar__curator-btns\"\n        :class=\"{ 'mb-0': this.show_hour_timeline }\"\n      >\n        <button\n          class=\"c-calendar__curator-btn c-calendar__change\"\n          :class=\"{ active: make_day_off }\"\n          @click=\"show_day_off_cursor\"\n        >\n          <svg\n            width=\"14\"\n            height=\"15\"\n            viewBox=\"0 0 14 15\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M0.143066 11.5716V14.4291H3.00061L11.4323 5.99748L8.57471 3.13994L0.143066 11.5716ZM13.6345 3.79527C13.9316 3.49809 13.9316 3.01421 13.6345 2.71703L11.8552 0.937732C11.558 0.640548 11.0741 0.640548 10.7769 0.937732L9.38245 2.33221L12.24 5.18975L13.6345 3.79527Z\"\n              fill=\"#EF4036\"\n            />\n          </svg>\n        </button>\n        <button\n          @click=\"show_timeline\"\n          class=\"c-calendar__curator-btn c-calendar__hour-mode\"\n          :class=\"{ active: this.show_hour_timeline }\"\n        >\n          <span></span>\n          <span></span>\n          <span></span>\n        </button>\n        <button\n          @click=\"show_timeline\"\n          class=\"c-calendar__curator-btn c-calendar__day-mode\"\n          :class=\"{ active: !this.show_hour_timeline }\"\n        >\n          <span></span><span></span><span></span><span></span>\n        </button>\n      </div>\n      <template v-if=\"show_hour_timeline\">\n        <BaseCuratorTime\n          :is_edit=\"make_day_off\"\n          :time_off=\"times_off\"\n          @change_date=\"change_timeline_date\"\n          @change_time_slider=\"change_curator_slider\"\n          :selected_date=\"current_date\"\n          :timeline=\"day_timeline\"\n        />\n      </template>\n      <template v-else>\n        <BaseCalendar\n          :is_curator=\"true\"\n          :daysOff=\"days_off\"\n          @initDate=\"init_date\"\n          @show-timeline=\"show_timeline\"\n          :lessons=\"lessons_getter\"\n          :make_day_off=\"make_day_off\"\n          @make-day-off=\"make_day_off_method\"\n        />\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport moment from \"moment\";\nexport default {\n  name: \"TeacherCalendar\",\n  computed: {\n    ...mapGetters(\"user\", [\n      \"curator_confirmed_lessons\",\n      \"curator_time_off\",\n      \"curator_day_off\"\n    ]),\n    lessons_getter() {\n      return this.lessons;\n    },\n    day_timeline() {\n      return this.time_lines;\n    },\n    days_off() {\n      return this.curator_day_off.map(({ calendar_day }) => calendar_day);\n    },\n    confirmed_lessons() {\n      if (this.curator_confirmed_lessons) {\n        if (this.curator_confirmed_lessons.length > 0) {\n          return this.curator_confirmed_lessons;\n        } else {\n          return [];\n        }\n      } else {\n        return [];\n      }\n    },\n    all_lessons() {\n      return this.curator_confirmed_lessons.map(\n        ({\n          id,\n          user_id,\n          homework,\n          calendar_day,\n          is_homework_checked,\n          link_to_lesson,\n          is_homework_done,\n          lesson_type,\n          description,\n          full_from,\n          full_to,\n          hour_from,\n          hour_to,\n          minute_from,\n          minute_to,\n          user: { first_name, last_name, photo, photo_path }\n        }) => {\n          return {\n            id: id,\n            student_id: user_id,\n            first_name,\n            last_name,\n            photo: photo ? photo_path : null,\n            date: calendar_day,\n            time_from: full_from,\n            time_to: full_to,\n            fromHour: hour_from,\n            fromMinutes: minute_from,\n            toHour: hour_to,\n            toMinutes: minute_to,\n            link_to_lesson,\n            link_to_homework: homework,\n            lesson_comment: description,\n            lesson_type: lesson_type.name,\n            is_homework_done,\n            is_homework_checked\n          };\n        }\n      );\n    },\n    all_lessons_array() {\n      return this.all_lessons;\n    },\n    lessons() {\n      return this.all_lessons.map(({ date, id }) => {\n        return {\n          day: date,\n          id\n        };\n      });\n    },\n    time_off() {\n      return this.curator_time_off.map(\n        ({\n          calendar_day,\n          full_from,\n          full_to,\n          hour_from,\n          hour_to,\n          minute_from,\n          minute_to\n        }) => {\n          return {\n            id: +hour_from + +hour_to + 35 + Math.random(),\n            day: calendar_day,\n            full_from,\n            full_to,\n            fromHour: +hour_from,\n            toHour: +hour_to,\n            fromMinutes: +minute_from,\n            toMinutes: +minute_to\n          };\n        }\n      );\n    }\n  },\n  data() {\n    return {\n      show_hour_timeline: false,\n      time_lines: [],\n      times_off: [],\n      select_timeline_date: undefined,\n      make_day_off: false,\n      current_date: \"\",\n      inital_date: \"\",\n      curator_new_time_off: null\n    };\n  },\n  methods: {\n    make_day_off_method(data) {\n      this.$store.dispatch(\"user/make_day_off\", data.fullDate).then(() => {\n        const { calendar } = this.$refs;\n        calendar.removeEventListener(\"mousemove\", this.mouseMoveListener);\n        this.make_day_off = !this.make_day_off;\n      });\n    },\n    show_timeline(calendarDate) {\n      if (!this.show_hour_timeline) {\n        let result = [];\n        if (calendarDate) {\n          const is_have_time_off =\n            this.time_off.filter(el => el.day === calendarDate.fullDate)\n              .length > 0;\n\n          const is_day_off = this.days_off.includes(calendarDate.fullDate);\n          if (is_have_time_off) {\n            const is_full_day_off =\n              this.time_off.filter(\n                el =>\n                  el.fromHour === 9 &&\n                  el.toHour === 18 &&\n                  el.day === calendarDate.fullDate\n              ).length > 0;\n\n            if (is_full_day_off) {\n              this.times_off = is_full_day_off;\n            } else {\n              this.time_off.forEach(el => {\n                if (el.day === calendarDate.fullDate) {\n                  result.push(el);\n                }\n              });\n              this.times_off = [...result];\n            }\n          } else {\n            this.times_off = [];\n          }\n          if (is_day_off) {\n            this.times_off.push({\n              id: 189,\n              day: calendarDate.fullDate,\n              full_from: \"9:00\",\n              full_to: \"19:00\",\n              fromHour: 9,\n              toHour: 18,\n              fromMinutes: 0,\n              toMinutes: 55\n            });\n          } else {\n            const indexTime = this.times_off.findIndex(el => el.id === 189);\n            if (!indexTime) {\n              this.times_off.splice(indexTime, 1);\n            }\n          }\n          this.time_lines = this.timeline_getter(calendarDate);\n        } else {\n          const today = {};\n          today.fullDate = moment().format(\"YYYY-MM-DD\");\n          const is_have_time_off = this.time_off.filter(\n            el => el.day === calendarDate.fullDate\n          );\n          const is_day_off = this.days_off.includes(calendarDate.fullDate);\n          if (is_have_time_off.length > 0) {\n            const is_full_day_off = is_have_time_off.filter(\n              el => el.fromHour === 9 && el.toHour === 18\n            );\n            if (is_full_day_off.length > 0) {\n              this.times_off = is_full_day_off;\n            } else {\n              this.times_off = is_have_time_off;\n            }\n          } else {\n            this.times_off = [];\n          }\n          if (is_day_off) {\n            this.times_off.push({\n              id: 60,\n              day: calendarDate.fullDate,\n              full_from: \"9:00\",\n              full_to: \"19:00\",\n              fromHour: 9,\n              toHour: 18,\n              fromMinutes: 0,\n              toMinutes: 55\n            });\n          } else {\n            const indexTime = this.times_off.findIndex(el => el.id === 60);\n            this.times_off.splice(indexTime, 1);\n          }\n          this.time_lines = this.timeline_getter(today);\n        }\n        this.time_lines = this.timeline_getter(calendarDate);\n      }\n      calendarDate.fullDate\n        ? (this.current_date = calendarDate.fullDate)\n        : (this.current_date = this.inital_date);\n      this.show_hour_timeline = !this.show_hour_timeline;\n    },\n    timeline_getter({ fullDate }) {\n      return this.all_lessons_array.filter(({ date }) => {\n        if (fullDate === date) return true;\n      });\n    },\n    change_timeline_date(calendarDate) {\n      const { fullDate } = calendarDate;\n      const is_have_time_off = this.time_off.filter(el => el.day === fullDate);\n      const is_day_off = this.days_off.includes(fullDate);\n\n      if (is_have_time_off.length > 0) {\n        const is_full_day_off = is_have_time_off.filter(\n          el => el.fromHour === 9 && el.toHour === 18\n        );\n        if (is_full_day_off.length > 0) {\n          this.times_off = is_full_day_off;\n        } else {\n          this.times_off = is_have_time_off;\n        }\n      } else {\n        this.times_off = [];\n      }\n      if (is_day_off) {\n        this.times_off.push({\n          id: 60,\n          day: calendarDate.fullDate,\n          full_from: \"9:00\",\n          full_to: \"19:00\",\n          fromHour: 9,\n          toHour: 18,\n          fromMinutes: 0,\n          toMinutes: 55\n        });\n      } else {\n        const indexTime = this.times_off.findIndex(el => el.id === 60);\n        this.times_off.splice(indexTime, 1);\n      }\n\n      this.time_lines = this.timeline_getter(calendarDate);\n    },\n    show_day_off_cursor() {\n      if (this.make_day_off) {\n        const { calendar } = this.$refs;\n        calendar.removeEventListener(\"mousemove\", this.mouseMoveListener);\n      }\n      if (this.curator_new_time_off) {\n        this.$store\n          .dispatch(\"user/make_time_off\", this.curator_new_time_off)\n          .then(() => {\n            this.curator_new_time_off = null;\n          });\n      }\n      this.make_day_off = !this.make_day_off;\n    },\n    mouseMoveListener(event) {\n      const { cursor } = this.$refs;\n      const x = event.clientX,\n        y = event.clientY;\n\n      cursor.style.transform = `translate3d(${x}px, ${y}px, 0)`;\n    },\n    init_date(date) {\n      this.current_date = date;\n      this.inital_date = date;\n    },\n    change_curator_slider(data) {\n      this.curator_new_time_off = data;\n    }\n  },\n  mounted() {\n    const { calendar } = this.$refs;\n    if (this.make_day_off) {\n      calendar.addEventListener(\"mousemove\", this.mouseMoveListener);\n    }\n  },\n  updated() {\n    const { calendar } = this.$refs;\n    if (this.make_day_off) {\n      calendar.addEventListener(\"mousemove\", this.mouseMoveListener);\n    }\n  },\n  beforeDestroy() {\n    const { calendar } = this.$refs;\n    if (this.make_day_off) {\n      calendar.removeEventListener(\"mousemove\", this.mouseMoveListener);\n      // calendar.style.cursor = 'auto'\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.c-teacher-calendar {\n  cursor: default;\n  &.cursor-active {\n    cursor: none;\n    .c-calendar__item {\n      cursor: none;\n    }\n  }\n  .cursor {\n    position: fixed;\n    background-image: url($img_dir + \"cursor.png\");\n    background-size: cover;\n    width: 23px;\n    height: 23px;\n    top: -23px;\n    left: 2px;\n    display: none;\n    &.cursor-active {\n      display: block;\n    }\n    /*transition: all .1s ease;*/\n    z-index: 999;\n  }\n  &__container {\n    max-width: 892px;\n    padding-left: 31px;\n    padding-top: 40px;\n    &--type-2 {\n      display: flex;\n    }\n  }\n  &__line {\n  }\n  &__timeline {\n    position: relative;\n    height: 95px;\n    background-color: $white;\n    padding: 0 29px;\n    margin-bottom: 10px;\n    transition: all 0.5s ease;\n    &.hovered {\n      background-color: #f1ffea;\n      .c-teacher-calendar__user-link {\n        opacity: 1;\n        @extend %evt-all;\n      }\n    }\n    .vue-slider {\n      /*position: r;*/\n      /*<!--bottom: -50px;-->*/\n    }\n    .vue-slider-marks {\n      .vue-slider-mark {\n        .vue-slider-mark-label {\n          @extend %regular;\n          line-height: rem(20);\n          font-size: rem(12);\n          color: $gray;\n        }\n\n        &:first-child {\n          left: 2.3% !important;\n        }\n        &:last-child {\n          left: 97.5% !important;\n        }\n      }\n    }\n    &_small {\n      .vue-slider {\n        margin-top: 49px;\n      }\n      .vue-slider-marks {\n        .vue-slider-mark {\n          &:first-child {\n            left: 6.3% !important;\n          }\n          &:last-child {\n            left: 93.5% !important;\n          }\n        }\n      }\n    }\n    &_empty {\n      .vue-slider {\n        margin-top: 49px;\n      }\n    }\n  }\n  &__time-lines {\n    display: grid;\n    grid-template-columns: repeat(59, 1fr);\n    grid-template-rows: repeat(10, 1fr);\n    background-color: $dark_white;\n    padding: 26px 33px;\n  }\n  &__user {\n    @extend %df;\n    @extend %aic;\n    margin-bottom: 10px;\n    margin-top: 11px;\n    cursor: pointer;\n    &.empty {\n      height: 28px;\n    }\n    &-img {\n      width: 28px;\n      height: 28px;\n      overflow: hidden;\n      border-radius: 50%;\n    }\n    &-content {\n      @extend %df;\n    }\n    &-name {\n      margin-left: 10px;\n    }\n    &-name,\n    &-link {\n      @extend %text-small-big-line-height;\n      color: $gray;\n    }\n    &-link {\n      color: $green;\n      margin-left: 20px;\n      opacity: 0;\n      transition: all 0.5s ease;\n      @extend %evt-none;\n    }\n  }\n}\n@include bp(766px) {\n  .c-teacher-calendar {\n    &__container {\n      max-width: 320px;\n      padding-left: 0;\n      padding-top: 40px;\n      margin: 0 auto;\n    }\n    &__time-lines {\n      padding-left: 10px;\n      padding-right: 10px;\n    }\n  }\n  .c-teacher-calendar__timeline\n    .vue-slider-marks\n    .vue-slider-mark\n    .vue-slider-mark-label {\n    font-size: 5px;\n  }\n  .c-teacher-calendar__timeline {\n    padding: 0 15px;\n  }\n  .c-teacher-calendar__user-link {\n    width: 15px;\n    height: 15px;\n  }\n  .c-teacher-calendar__user-name {\n    font-size: rem(7);\n  }\n  .c-teacher-calendar__user-link {\n    display: none;\n  }\n}\n</style>\n"]}]}