{"remainingRequest":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\src\\components\\Modals\\ReservationLessonModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\src\\components\\Modals\\ReservationLessonModal.vue","mtime":1625895132051},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUaW1lU2xpZGVyIGZyb20gIi4uL1RpbWVTbGlkZXIiOwppbXBvcnQgQmFzZVNlbGVjdCBmcm9tICIuLi9CYXNlL0Jhc2VTZWxlY3QiOwppbXBvcnQgQmFzZVRleHRBcmVhIGZyb20gIi4uL0Jhc2UvQmFzZVRleHRBcmVhIjsKaW1wb3J0IHsgY3VyYXRvcl9taXhpbnMgfSBmcm9tICJAL21peGlucy9taXhpbnMuanMiOwppbXBvcnQgJGh0dHAgZnJvbSAiQC9zZXJ2aWNlL2luZGV4LmpzIjsKaW1wb3J0IHsgbG9hZFN0cmlwZSB9IGZyb20gIkBzdHJpcGUvc3RyaXBlLWpzIjsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwovLyBpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCcKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZXNlcnZhdGlvbkxlc3Nvbk1vZGFsIiwKICBtaXhpbnM6IFtjdXJhdG9yX21peGluc10sCiAgY29tcG9uZW50czogeyBCYXNlVGV4dEFyZWEsIEJhc2VTZWxlY3QsIFRpbWVTbGlkZXIgfSwKICBwcm9wczogewogICAgZGF5OiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfSwKICAgIHJlc2VydmVkX3RpbWVzOiB7CiAgICAgIHR5cGU6IEFycmF5CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGltZTogbnVsbCwKICAgICAgdHlwZUxlc3NvbjogWwogICAgICAgIHsKICAgICAgICAgIHZhbDogImZpcnN0TGVzc29uIiwKICAgICAgICAgIHRleHQ6ICLQoNCw0LfQvtCy0L7QtSDQt9Cw0L3Rj9GC0LjQtSIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHZhbDogImNsYXNzaWNMZXNzb24iLAogICAgICAgICAgdGV4dDogItCa0LvQsNGB0YHQuNGH0LXRgdC60L7QtSDQt9Cw0L3Rj9GC0LjQtSIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHZhbDogInRhbGtpbmdMZXNzb24iLAogICAgICAgICAgdGV4dDogItCg0LDQt9Cz0L7QstC+0YDQvdC+0LUg0LfQsNC90Y/RgtC40LUgIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdmFsOiAicHJvbnVuY2lhdGlvbkxlc3NvbiIsCiAgICAgICAgICB0ZXh0OiAi0J7RgtGA0LDQsdC+0YLQutCwINC/0YDQvtC40LfQvdC+0YjQtdC90LjRjyIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHZhbDogInRyaWFsTGVzc29uIiwKICAgICAgICAgIHRleHQ6ICLQn9GA0L7QsdC90L7QtSDQt9Cw0L3Rj9GC0LjQtSIKICAgICAgICB9CiAgICAgIF0sCiAgICAgIGxlc3NvblR5cGU6ICJmaXJzdExlc3NvbiIsCiAgICAgIHRpbWVUcmFjazogWwogICAgICAgIHsKICAgICAgICAgIHZhbDogNjAsCiAgICAgICAgICB0ZXh0OiAiNjAiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB2YWw6IDQ1LAogICAgICAgICAgdGV4dDogIjQ1IgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdmFsOiAzMCwKICAgICAgICAgIHRleHQ6ICIzMCIKICAgICAgICB9CiAgICAgIF0sCiAgICAgIGFjdGl2ZVRpbWU6IDYwLAogICAgICBsZXNzb25fZGVzY3JpcHRpb246ICIiLAogICAgICBhY3RpdmVNb2JpbGVUaW1lOiB7CiAgICAgICAgZnJvbTogbnVsbCwKICAgICAgICB0bzogbnVsbAogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucygidXNlciIsIFsibWFrZUNoZWNrb3V0T25lTGVzc29uIl0pLAogICAgY2hvaWNlX21vYmlsZShmcm9tLCB0bykgewogICAgICB0aGlzLmFjdGl2ZU1vYmlsZVRpbWUuZnJvbSA9IGZyb207CiAgICAgIHRoaXMuYWN0aXZlTW9iaWxlVGltZS50byA9IHRvOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmFjdGl2ZU1vYmlsZVRpbWUpOwogICAgfSwKICAgIHJlc2Vydkxlc3NvbihpZCkgewogICAgICBjb25zdCBzbHVnID0gdGhpcy5sZXNzb25fdHlwZXMuZmlsdGVyKGwgPT4gbC5pZCA9PT0gaWQpWzBdLnNsdWc7CiAgICAgIGNvbnN0IGR1cmF0aW9uID0gdGhpcy5iYWxhbmNlLmZpbmQoYiA9PiBiLmxlc3Nvbl90eXBlX2lkID09PSBpZCk7CiAgICAgIGNvbnN0IFNlbmRpbmdEYXRhID0gewogICAgICAgIGRheTogdGhpcy5kYXksCiAgICAgICAgZnVsbF9mcm9tOiBgJHt0aGlzLmRheX0gJHt0aGlzLnRpbWUuZnJvbS50aW1lfTowMGAsCiAgICAgICAgZnVsbF90bzogYCR7dGhpcy5kYXl9ICR7dGhpcy50aW1lLnRvLnRpbWV9OjAwYCwKICAgICAgICB0ZWFjaGVyOiB0aGlzLmN1cmF0b3IuaWQsCiAgICAgICAgZGVzY3JpcHRpb246IHRoaXMubGVzc29uX2Rlc2NyaXB0aW9uLAogICAgICAgIGxlc3Nvbl90eXBlOiBzbHVnLAogICAgICAgIGxlc3Nvbl90eXBlX2lkOiBpZCwKICAgICAgICBwcmljZTogdGhpcy5wcmljZSAqIDEwMCwKICAgICAgICB0aW1lOiBkdXJhdGlvbi5sZXNzb25EdXJhdGlvbgogICAgICB9OwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2V0X2xvYWRpbmciLCB0cnVlKTsKICAgICAgJGh0dHAKICAgICAgICAuY3JlYXRlX2xlc3NvbihTZW5kaW5nRGF0YSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidXNlci9nZXRfbGVzc29ucyIpLnRoZW4oKCkgPT4gewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJDYWxlbmRhciIgfSk7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZXRfbG9hZGluZyIsIGZhbHNlKTsKICAgICAgICAgICAgLy8gdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNob3dfcmVzZXJ2YXRpb25fbGVzc29uX21vZGFsIiwgewogICAgICAgICAgICAvLyAgIGRhdGE6IHsgZGF0ZTogdGhpcy5kYXkgfSwKICAgICAgICAgICAgLy8gICBtb2RhbF9uYW1lOiAibGVzc29ucy1tb2RhbCIKICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoeyByZXNwb25zZSB9KSA9PiB7CiAgICAgICAgICBjb25zdCB7IHN0YXR1cyB9ID0gcmVzcG9uc2U7CiAgICAgICAgICBpZiAoc3RhdHVzID09PSA0MDApIHsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImVycm9yX2hhbmRsZXIiLCB7CiAgICAgICAgICAgICAgdHlwZTogImRhbmdlciIsCiAgICAgICAgICAgICAgdGV4dDogItCS0YDQtdC80Y8g0YPQttC1INC30LDQvdGP0YLQvi4g0J/QvtC/0YDQvtCx0YPQudGC0LUg0LTRgNGD0LPQvtC1IgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09IDQyMikgewogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZXJyb3JfaGFuZGxlciIsIHsKICAgICAgICAgICAgICB0eXBlOiAiZGFuZ2VyIiwKICAgICAgICAgICAgICB0ZXh0OiAi0JfQsNC/0L7Qu9C90LjRgtC1INCy0YHQtSDQv9C+0LvRjyEiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZXJyb3JfaGFuZGxlciIsIHsKICAgICAgICAgICAgdHlwZTogImRhbmdlciIsCiAgICAgICAgICAgIHRleHQ6ICLQndC1INGD0LTQsNC70L7RgdGMINC90LDQt9C90LDRh9C40YLRjCDQt9Cw0L3Rj9GC0LjQtSEg0J/QvtC/0YDQvtCx0YPQudGC0LUg0LXRidC1INGA0LDQty4iCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBjcmVhdGVfbGVzc29uKCkgewogICAgICBjb25zdCBsZXNzb25UeXBlID0gdGhpcy5sZXNzb25fdHlwZXMuZmlsdGVyKAogICAgICAgIGwgPT4gbC5zbHVnID09PSB0aGlzLmxlc3NvblR5cGUKICAgICAgKVswXS5pZDsKICAgICAgY29uc3Qgc2x1ZyA9IHRoaXMubGVzc29uX3R5cGVzLmZpbHRlcihsID0+IGwuc2x1ZyA9PT0gdGhpcy5sZXNzb25UeXBlKVswXQogICAgICAgIC5zbHVnOwogICAgICBjb25zdCBTZW5kaW5nRGF0YSA9IHsKICAgICAgICBkYXk6IHRoaXMuZGF5LAogICAgICAgIGZ1bGxfZnJvbTogYCR7dGhpcy5kYXl9ICR7dGhpcy50aW1lLmZyb20udGltZX06MDBgLAogICAgICAgIGZ1bGxfdG86IGAke3RoaXMuZGF5fSAke3RoaXMudGltZS50by50aW1lfTowMGAsCiAgICAgICAgdGVhY2hlcjogdGhpcy5jdXJhdG9yLmlkLAogICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmxlc3Nvbl9kZXNjcmlwdGlvbiwKICAgICAgICBsZXNzb25fdHlwZV9zbHVnOiBzbHVnLAogICAgICAgIGxlc3Nvbl90eXBlX2lkOiBsZXNzb25UeXBlLAogICAgICAgIHByaWNlOiB0aGlzLnByaWNlICogMTAwLAogICAgICAgIHRpbWU6IHRoaXMuYWN0aXZlVGltZQogICAgICB9OwogICAgICBjb25zdCB7IHB1YmxpY0tleSwgc2Vzc2lvbklkIH0gPSBhd2FpdCB0aGlzLm1ha2VDaGVja291dE9uZUxlc3NvbigKICAgICAgICBTZW5kaW5nRGF0YQogICAgICApOwogICAgICBjb25zdCBzdHJpcGUgPSBhd2FpdCBsb2FkU3RyaXBlKHB1YmxpY0tleSk7CiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN0cmlwZS5yZWRpcmVjdFRvQ2hlY2tvdXQoeyBzZXNzaW9uSWQgfSk7CgogICAgICBpZiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKCJ1c2VyIiwgWyJiYWxhbmNlIl0pLAogICAgLi4ubWFwR2V0dGVycyhbImxlc3Nvbl90eXBlcyJdKSwKICAgIGF2YWlsYWJsZUxlc3NvbnMoKSB7CiAgICAgIGlmICh0aGlzLmJhbGFuY2UgJiYgdGhpcy5iYWxhbmNlLmxlbmd0aCkgewogICAgICAgIHJldHVybiB0aGlzLmxlc3Nvbl90eXBlcy5maWx0ZXIobCA9PgogICAgICAgICAgdGhpcy5iYWxhbmNlCiAgICAgICAgICAgIC5maWx0ZXIoYmFsID0+IGJhbC5sZXNzb25RdHkgPiAwKQogICAgICAgICAgICAuc29tZShiID0+IGwuaWQgPT09IGIubGVzc29uX3R5cGVfaWQpCiAgICAgICAgKTsKICAgICAgfQogICAgICByZXR1cm4gW107CiAgICB9LAogICAgY2hlY2tNb2JpbGUoKSB7CiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCA+IDExMDA7CiAgICB9LAogICAgcHJpY2UoKSB7CiAgICAgIGxldCB0eXBlOwogICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5jdXJhdG9yX2Fib3V0KSB7CiAgICAgICAgaWYgKGtleSA9PT0gdGhpcy5sZXNzb25UeXBlKSB7CiAgICAgICAgICB0eXBlID0gdGhpcy5jdXJhdG9yX2Fib3V0W2tleV07CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiAodGhpcy5hY3RpdmVUaW1lIC8gMTApICogdHlwZTsKICAgIH0sCiAgICBtb2JpbGVfdGltZSgpIHsKICAgICAgbGV0IHRpbWVzID0gW107CiAgICAgIGxldCBzdGFydGVkID0gMDsKICAgICAgbGV0IHN0ZXAgPSB0aGlzLmFjdGl2ZVRpbWU7CiAgICAgIGxldCB3b3JrVGltZXMgPSBbIjk6MDAiLCAiMTg6MDAiXTsKCiAgICAgIC8vINCf0L7QutCwINC40YHQv9C+0LvRjNC30YPQtdC8INCz0LXQvdC10YDQsNGC0L7RgAogICAgICBmb3IgKAogICAgICAgIGxldCBpID0gK3dvcmtUaW1lc1swXS5zcGxpdCgiOiIpWzBdOwogICAgICAgIGkgPCArd29ya1RpbWVzWzFdLnNwbGl0KCI6IilbMF0gKyAxOwogICAgICAgIGkrKwogICAgICApIHsKICAgICAgICBmb3IgKDsgc3RhcnRlZCA8IDYwOyBzdGFydGVkICs9IHN0ZXApIHsKICAgICAgICAgIC8vIGNvbnN0IHN0YXJ0ZWRfcGx1c19zdGVwID0gc3RhcnRlZCArIHN0ZXA7CiAgICAgICAgICAvLyBjb25zdCB0aW1lID0gYCR7aX06JHtzdGFydGVkID09PSAwID8gJzAwJyA6IChzdGFydGVkIDwgMTAgPyAnMCcgKyBzdGFydGVkIDogc3RhcnRlZCl9IC0KICAgICAgICAgIC8vICAgICAgICAgICAgICAgJHtpfToke3N0YXJ0ZWRfcGx1c19zdGVwID49IDYwID8gJzAwJyA6IChzdGFydGVkX3BsdXNfc3RlcCA8IDEwID8gJzAnICsgc3RhcnRlZF9wbHVzX3N0ZXAgOiBzdGFydGVkX3BsdXNfc3RlcCkgKyA1fWAKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHN0YXJ0ZWRfcGx1c19zdGVwKQogICAgICAgICAgdGltZXMucHVzaCgKICAgICAgICAgICAgYCR7aX06JHsKICAgICAgICAgICAgICBzdGFydGVkID09PSAwID8gIjAwIiA6IHN0YXJ0ZWQgPCAxMCA/ICIwIiArIHN0YXJ0ZWQgOiBzdGFydGVkCiAgICAgICAgICAgIH1gCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgICBzdGFydGVkID0gMDsKICAgICAgfQogICAgICByZXR1cm4gdGltZXM7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gMTEwMCkgewogICAgICB0aGlzLnRpbWVUcmFjay5wdXNoKHsKICAgICAgICB2YWw6IDkwLAogICAgICAgIHRleHQ6ICI5MCIKICAgICAgfSk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["ReservationLessonModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReservationLessonModal.vue","sourceRoot":"src/components/Modals","sourcesContent":["<template>\n  <BaseModal class=\"c-reservation-lesson-modal__main-modal\">\n    <div class=\"c-reservation-lesson-modal\">\n      <div class=\"c-reservation-lesson-modal__container\">\n        <div class=\"c-reservation-lesson-modal__header\">\n          <!--          <span class=\"c-reservation-lesson-modal__close\">X</span>-->\n          <p class=\"c-reservation-lesson-modal__title\">Запланировать занятие</p>\n        </div>\n        <div class=\"c-reservation-lesson-modal__teacher\">\n          <div class=\"c-reservation-lesson-modal__teacher-credentials\">\n            <div class=\"c-reservation-lesson-modal__teacher-avatar\">\n              <template v-if=\"user_photo\">\n                <img :src=\"user_photo\" :alt=\"curator_name\" />\n              </template>\n              <template v-else>\n                <img src=\"img/ill/default-photo.svg\" :alt=\"curator_name\" />\n              </template>\n            </div>\n            <div class=\"c-reservation-lesson-modal__teacher-name\">\n              <p>{{ curator_name }}</p>\n            </div>\n          </div>\n          <div class=\"c-reservation-lesson-modal__teacher-time\">\n            <div class=\"c-reservation-lesson-modal__teacher-time-wrapper\">\n              <p class=\"c-reservation-lesson-modal__teacher-time-title\">\n                Выбраное время\n              </p>\n              <div class=\"c-reservation-lesson-modal__teacher-time-chose\">\n                <template v-if=\"time\">\n                  {{ time.from.time }} - {{ time.to.time }}\n                </template>\n                <template v-else>-</template>\n              </div>\n            </div>\n            <div class=\"c-reservation-lesson-modal__teacher-time-wrapper\">\n              <p class=\"c-reservation-lesson-modal__teacher-time-title\">\n                Стоимость:\n              </p>\n              <p class=\"c-reservation-lesson-modal__teacher-time-price\">\n                {{ price }}&nbsp;€\n              </p>\n            </div>\n          </div>\n        </div>\n        <div class=\"c-reservation-lesson-modal__select\">\n          <div class=\"c-reservation-lesson-modal__select-type\">\n            <BaseSelect\n              class=\"c-reservation-lesson-modal__select-item\"\n              v-model=\"lessonType\"\n              :options=\"typeLesson\"\n              placeholder=\"Тип занятия\"\n            />\n          </div>\n          <div class=\"c-reservation-lesson-modal__select-time\">\n            <BaseSelect\n              class=\"c-reservation-lesson-modal__select-item\"\n              v-model=\"activeTime\"\n              :options=\"timeTrack\"\n              placeholder=\"30 мин.\"\n            />\n          </div>\n        </div>\n        <div class=\"one-click-payment\">\n          <button\n            v-for=\"btn in availableLessons\"\n            :key=\"btn.slug\"\n            @click=\"reservLesson(btn.id)\"\n            :disabled=\"!time\"\n          >\n            <img src=\"@/assets/img/ill/notifications/alert-great.svg\" alt=\"\" />\n            {{ btn.name }}\n          </button>\n        </div>\n        <template v-if=\"checkMobile\">\n          <TimeSlider\n            class=\"c-reservation-lesson-modal__time-slider\"\n            v-model=\"time\"\n            :lesson-time=\"activeTime\"\n            :reservedTime=\"reserved_times\"\n          />\n        </template>\n        <template v-else>\n          <ul class=\"c-reservation-lesson-modal__list\">\n            <li\n              v-for=\"(time, index) of mobile_time\"\n              class=\"c-reservation-lesson-modal__list-item\"\n              :key=\"time\"\n            >\n              <!--              <template v-if=\"mobile_time[index + 1]\">-->\n              <button\n                @click=\"choice_mobile(time, mobile_time[index + 1])\"\n                :class=\"{\n                  active:\n                    activeMobileTime.from === time &&\n                    activeMobileTime.to === mobile_time[index + 1]\n                }\"\n                class=\"c-reservation-lesson-modal__list-btn\"\n              >\n                {{ time }}\n              </button>\n              <!--              </template>-->\n            </li>\n          </ul>\n        </template>\n        <div class=\"c-reservation-lesson-modal__ta-wrapper\">\n          <p>Ваши пожелания:</p>\n          <BaseTextArea\n            class=\"c-reservation-lesson-modal__ta\"\n            v-model=\"lesson_description\"\n          />\n        </div>\n        <div class=\"c-reservation-lesson-modal__submit\">\n          <button\n            @click=\"create_lesson\"\n            class=\"c-reservation-lesson-modal__submit-btn\"\n          >\n            Назначить занятие\n          </button>\n        </div>\n      </div>\n    </div>\n  </BaseModal>\n</template>\n\n<script>\nimport TimeSlider from \"../TimeSlider\";\nimport BaseSelect from \"../Base/BaseSelect\";\nimport BaseTextArea from \"../Base/BaseTextArea\";\nimport { curator_mixins } from \"@/mixins/mixins.js\";\nimport $http from \"@/service/index.js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { mapActions, mapGetters } from \"vuex\";\n// import moment from 'moment'\nexport default {\n  name: \"ReservationLessonModal\",\n  mixins: [curator_mixins],\n  components: { BaseTextArea, BaseSelect, TimeSlider },\n  props: {\n    day: {\n      type: String\n    },\n    reserved_times: {\n      type: Array\n    }\n  },\n  data() {\n    return {\n      time: null,\n      typeLesson: [\n        {\n          val: \"firstLesson\",\n          text: \"Разовое занятие\"\n        },\n        {\n          val: \"classicLesson\",\n          text: \"Классическое занятие\"\n        },\n        {\n          val: \"talkingLesson\",\n          text: \"Разговорное занятие \"\n        },\n        {\n          val: \"pronunciationLesson\",\n          text: \"Отработка произношения\"\n        },\n        {\n          val: \"trialLesson\",\n          text: \"Пробное занятие\"\n        }\n      ],\n      lessonType: \"firstLesson\",\n      timeTrack: [\n        {\n          val: 60,\n          text: \"60\"\n        },\n        {\n          val: 45,\n          text: \"45\"\n        },\n        {\n          val: 30,\n          text: \"30\"\n        }\n      ],\n      activeTime: 60,\n      lesson_description: \"\",\n      activeMobileTime: {\n        from: null,\n        to: null\n      }\n    };\n  },\n  methods: {\n    ...mapActions(\"user\", [\"makeCheckoutOneLesson\"]),\n    choice_mobile(from, to) {\n      this.activeMobileTime.from = from;\n      this.activeMobileTime.to = to;\n      console.log(this.activeMobileTime);\n    },\n    reservLesson(id) {\n      const slug = this.lesson_types.filter(l => l.id === id)[0].slug;\n      const duration = this.balance.find(b => b.lesson_type_id === id);\n      const SendingData = {\n        day: this.day,\n        full_from: `${this.day} ${this.time.from.time}:00`,\n        full_to: `${this.day} ${this.time.to.time}:00`,\n        teacher: this.curator.id,\n        description: this.lesson_description,\n        lesson_type: slug,\n        lesson_type_id: id,\n        price: this.price * 100,\n        time: duration.lessonDuration\n      };\n      this.$store.dispatch(\"set_loading\", true);\n      $http\n        .create_lesson(SendingData)\n        .then(() => {\n          this.$store.dispatch(\"user/get_lessons\").then(() => {\n            this.$router.push({ name: \"Calendar\" });\n            this.$store.dispatch(\"set_loading\", false);\n            // this.$store.dispatch(\"show_reservation_lesson_modal\", {\n            //   data: { date: this.day },\n            //   modal_name: \"lessons-modal\"\n            // });\n          });\n        })\n        .catch(({ response }) => {\n          const { status } = response;\n          if (status === 400) {\n            this.$store.dispatch(\"error_handler\", {\n              type: \"danger\",\n              text: \"Время уже занято. Попробуйте другое\"\n            });\n            return;\n          } else if (status === 422) {\n            this.$store.dispatch(\"error_handler\", {\n              type: \"danger\",\n              text: \"Заполните все поля!\"\n            });\n            return;\n          }\n          this.$store.dispatch(\"error_handler\", {\n            type: \"danger\",\n            text: \"Не удалось назначить занятие! Попробуйте еще раз.\"\n          });\n        });\n    },\n    async create_lesson() {\n      const lessonType = this.lesson_types.filter(\n        l => l.slug === this.lessonType\n      )[0].id;\n      const slug = this.lesson_types.filter(l => l.slug === this.lessonType)[0]\n        .slug;\n      const SendingData = {\n        day: this.day,\n        full_from: `${this.day} ${this.time.from.time}:00`,\n        full_to: `${this.day} ${this.time.to.time}:00`,\n        teacher: this.curator.id,\n        description: this.lesson_description,\n        lesson_type_slug: slug,\n        lesson_type_id: lessonType,\n        price: this.price * 100,\n        time: this.activeTime\n      };\n      const { publicKey, sessionId } = await this.makeCheckoutOneLesson(\n        SendingData\n      );\n      const stripe = await loadStripe(publicKey);\n      const { error } = await stripe.redirectToCheckout({ sessionId });\n\n      if (error) {\n        console.log(error);\n      }\n    }\n  },\n  computed: {\n    ...mapGetters(\"user\", [\"balance\"]),\n    ...mapGetters([\"lesson_types\"]),\n    availableLessons() {\n      if (this.balance && this.balance.length) {\n        return this.lesson_types.filter(l =>\n          this.balance\n            .filter(bal => bal.lessonQty > 0)\n            .some(b => l.id === b.lesson_type_id)\n        );\n      }\n      return [];\n    },\n    checkMobile() {\n      return window.innerWidth > 1100;\n    },\n    price() {\n      let type;\n      for (let key in this.curator_about) {\n        if (key === this.lessonType) {\n          type = this.curator_about[key];\n        }\n      }\n      return (this.activeTime / 10) * type;\n    },\n    mobile_time() {\n      let times = [];\n      let started = 0;\n      let step = this.activeTime;\n      let workTimes = [\"9:00\", \"18:00\"];\n\n      // Пока используем генератор\n      for (\n        let i = +workTimes[0].split(\":\")[0];\n        i < +workTimes[1].split(\":\")[0] + 1;\n        i++\n      ) {\n        for (; started < 60; started += step) {\n          // const started_plus_step = started + step;\n          // const time = `${i}:${started === 0 ? '00' : (started < 10 ? '0' + started : started)} -\n          //               ${i}:${started_plus_step >= 60 ? '00' : (started_plus_step < 10 ? '0' + started_plus_step : started_plus_step) + 5}`\n          // console.log(started_plus_step)\n          times.push(\n            `${i}:${\n              started === 0 ? \"00\" : started < 10 ? \"0\" + started : started\n            }`\n          );\n        }\n        started = 0;\n      }\n      return times;\n    }\n  },\n  created() {\n    if (window.innerWidth > 1100) {\n      this.timeTrack.push({\n        val: 90,\n        text: \"90\"\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.c-reservation-lesson-modal {\n  margin-top: 46px;\n  &__main-modal {\n    width: 55vw;\n  }\n  &__container {\n    max-width: 598px;\n    margin-left: 50px;\n  }\n\n  &__header {\n    @extend %df;\n  }\n\n  &__title {\n    @extend %h3-title-bold;\n    color: $gray;\n    margin-left: 15px;\n  }\n\n  &__teacher {\n    @extend %df;\n    @extend %jcsb;\n    padding: 30px;\n    background: $dark_white;\n    margin-top: 32px;\n\n    &-name p {\n      @extend %h2-title-regular;\n      color: $black;\n    }\n\n    &-avatar {\n      border-radius: 50%;\n      margin-right: 27px;\n      overflow: hidden;\n      width: rem(111);\n      height: rem(111);\n    }\n\n    &-credentials {\n      @extend %df;\n      @extend %aic;\n      justify-content: flex-start;\n      width: 45%;\n    }\n\n    &-time {\n      @extend %df;\n      @extend %aifs;\n      @extend %fdc;\n      @extend %jcfs;\n      width: 40%;\n\n      &-title {\n        @extend %text-middle;\n        color: $gray;\n      }\n\n      &-price {\n        color: $green;\n        @extend %h3-title-bold;\n        margin-top: 4px;\n      }\n\n      &-chose {\n        @extend %h3-title-bold;\n        color: $black;\n        margin: 6px 0 12px 0;\n      }\n    }\n  }\n\n  &__select {\n    @extend %df;\n    @extend %jcsb;\n    margin: 40px 0;\n\n    &-type {\n      width: 55%;\n    }\n\n    &-time {\n      width: 41%;\n    }\n\n    &-item {\n      width: 100%;\n    }\n  }\n\n  &__time-slider {\n    width: 100%;\n  }\n\n  &__ta-wrapper {\n    margin-top: 40px;\n  }\n\n  &__ta {\n    height: 88px;\n    margin-top: 8px;\n  }\n\n  &__submit {\n    margin-top: 56px;\n    &-btn {\n      @extend %btn-text;\n      @extend %btn-all-green;\n      padding: 10px 50px;\n    }\n  }\n  &__list {\n    display: flex;\n    flex-wrap: wrap;\n    &-btn {\n      @extend %btn-text;\n      color: $gray;\n      margin: rem(5);\n      display: block;\n      padding: 8px;\n      border: 1px solid $gray;\n      border-radius: 2px;\n      &.active {\n        border-color: $green;\n        color: $green;\n      }\n    }\n  }\n}\n@include bp(1360px) {\n  .c-reservation-lesson-modal__main-modal {\n    overflow-y: scroll;\n    padding-bottom: 50px;\n  }\n}\n@include bp(1100px) {\n  .c-reservation-lesson-modal {\n    &__container {\n      max-width: 320px;\n      margin: 0 auto;\n    }\n    &__title {\n      margin-left: 0;\n    }\n    &__teacher {\n      padding: 15px;\n      flex-direction: column;\n      &-credentials {\n        width: 100%;\n      }\n      &-avatar {\n        width: 64px;\n        height: 64px;\n        margin-right: 18px;\n      }\n      &-name {\n        p {\n          font-size: rem(22);\n          line-height: rem(25);\n        }\n      }\n      &-time {\n        width: 100%;\n        display: flex;\n        justify-content: space-between;\n        flex-direction: row;\n        margin-top: 18px;\n      }\n    }\n  }\n}\n.one-click-payment {\n  margin-bottom: 40px;\n  margin-top: -20px;\n  button {\n    margin-right: 15px;\n    font-size: rem(16);\n    line-height: rem(21);\n    border: 1px solid #d8d8d8;\n    padding: 15px 7px 15px 53px;\n    position: relative;\n    border-radius: 2px;\n    @extend %btn-text;\n    img {\n      position: absolute;\n      left: 20px;\n      height: 23px;\n      width: 23px;\n    }\n    &:hover {\n      color: #39b100;\n    }\n    &:disabled {\n      &:hover {\n        color: rgba(16, 16, 16, 0.3);\n      }\n    }\n  }\n}\n</style>\n"]}]}