{"remainingRequest":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\src\\components\\Modals\\LoginModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\src\\components\\Modals\\LoginModal.vue","mtime":1625895131873},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW5Nb2RhbCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICBlcnJvcl9lbWFpbDogZmFsc2UsCiAgICAgIGVycm9yX3Bhc3N3b3JkOiBmYWxzZSwKICAgICAgZXJyb3JfbWVzc2FnZTogbnVsbCwKICAgICAgZXJyb3JfbG9naW5fbWVzc2FnZTogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZ2lzdGVyKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2hvd19tb2RhbCIsICJyZWdpc3RlciIpOwogICAgfSwKICAgIC8vIGNoZWNrRW1haWwoKSB7CiAgICAvLyAgIHRoaXMuU0hPV19NT0RBTCgiY2hlY2siKTsKICAgIC8vIH0sCiAgICBvblN1Ym1pdCgpIHsKICAgICAgY29uc3Qgc2VuZGluZ0RhdGEgPSB7fTsKICAgICAgLy8gY29uc29sZS5sb2coIXRoaXMuZW1haWwubWF0Y2goL15bMC05YS16LS5dK0BbMC05YS16LV17Mix9XC5bYS16XXsyLH0kL2kpKQogICAgICBpZiAoCiAgICAgICAgdGhpcy5lbWFpbC5sZW5ndGggPT09IDAgfHwKICAgICAgICAhdGhpcy5lbWFpbC5tYXRjaCgvXlswLTlhLXotLl0rQFswLTlhLXotXXsyLH1cLlthLXpdezIsfSQvaSkKICAgICAgKSB7CiAgICAgICAgdGhpcy5lcnJvcl9lbWFpbCA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJvcl9tZXNzYWdlID0gItCd0LXQutC+0YDRgNC10LrRgtC90YvQuSBlbWFpbCI7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmVycm9yX2VtYWlsID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmVycm9yX21lc3NhZ2UgPSBudWxsOwogICAgICAgIH0sIDIwMDApOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZW5kaW5nRGF0YS5lbWFpbCA9IHRoaXMuZW1haWw7CiAgICAgIH0KICAgICAgaWYgKHRoaXMucGFzc3dvcmQubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy5lcnJvcl9wYXNzd29yZCA9IHRydWU7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiAodGhpcy5lcnJvcl9wYXNzd29yZCA9IGZhbHNlKSwgMjAwMCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHNlbmRpbmdEYXRhLnBhc3N3b3JkID0gdGhpcy5wYXNzd29yZDsKICAgICAgfQoKICAgICAgdGhpcy4kc3RvcmUKICAgICAgICAuZGlzcGF0Y2goImF1dGgvbG9naW4iLCBzZW5kaW5nRGF0YSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiaGlkZV9zaG93X292ZXJsYXkiLCBmYWxzZSk7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIHRoaXMuZXJyb3JfZW1haWwgPSB0cnVlOwogICAgICAgICAgdGhpcy5lcnJvcl9wYXNzd29yZCA9IHRydWU7CiAgICAgICAgICB0aGlzLmVycm9yX2xvZ2luX21lc3NhZ2UgPQogICAgICAgICAgICAi0J3QtdC/0YDQsNCy0LjQu9GM0L3Ri9C5INC70L7Qs9C40L0g0LjQu9C4INC/0LDRgNC+0LvRjCwg0L/QvtC/0YDQvtCx0YPQudGC0LUg0LXRidC1INGA0LDQty4iOwogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuZXJyb3JfZW1haWwgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5lcnJvcl9wYXNzd29yZCA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmVycm9yX2xvZ2luX21lc3NhZ2UgPSBudWxsOwogICAgICAgICAgfSwgMzAwMCk7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UpOwogICAgICAgIH0pOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["LoginModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoginModal.vue","sourceRoot":"src/components/Modals","sourcesContent":["<template>\n  <BaseModal>\n    <div class=\"c-login-modal\">\n      <div class=\"c-login-modal__login\">\n        <button class=\"c-login-modal__login-btn\" @click=\"register\">\n          Регистрация\n        </button>\n      </div>\n      <form @submit.prevent=\"onSubmit\" class=\"c-login-modal__content\">\n        <h2 class=\"c-login-modal__title\">Вход</h2>\n        <BaseInputText\n          class=\"c-login-modal__field\"\n          icon=\"email\"\n          placeholder=\"Ваша почта\"\n          v-model=\"email\"\n          :error=\"error_email\"\n          :error_message=\"error_message\"\n        />\n        <BaseInputPassword\n          class=\"c-login-modal__field\"\n          placeholder=\"Ваш пароль\"\n          v-model=\"password\"\n          :error=\"error_password\"\n        />\n        <div class=\"c-login-modal__error\">\n          {{ error_login_message }}\n        </div>\n        <button class=\"c-login-modal__register-btn\">\n          Войти\n        </button>\n\n        <div class=\"c-login-modal__social-login\">\n          <p class=\"c-login-modal__social-tag\">Войти через:</p>\n          <div class=\"c-login-modal__socials\">\n            <button\n              class=\"c-login-modal__social c-login-modal__social--google\"\n            ></button>\n            <button\n              class=\"c-login-modal__social c-login-modal__social--facebook\"\n            ></button>\n            <button\n              class=\"c-login-modal__social c-login-modal__social--vk\"\n            ></button>\n          </div>\n          <router-link\n            :to=\"{ name: 'PasswordRecovery' }\"\n            class=\"c-login-modal__forgot-password\"\n          >\n            Забыли пароль?\n          </router-link>\n        </div>\n      </form>\n    </div>\n  </BaseModal>\n</template>\n\n<script>\nexport default {\n  name: \"LoginModal\",\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      error_email: false,\n      error_password: false,\n      error_message: null,\n      error_login_message: null\n    };\n  },\n  methods: {\n    register() {\n      this.$store.dispatch(\"show_modal\", \"register\");\n    },\n    // checkEmail() {\n    //   this.SHOW_MODAL(\"check\");\n    // },\n    onSubmit() {\n      const sendingData = {};\n      // console.log(!this.email.match(/^[0-9a-z-.]+@[0-9a-z-]{2,}\\.[a-z]{2,}$/i))\n      if (\n        this.email.length === 0 ||\n        !this.email.match(/^[0-9a-z-.]+@[0-9a-z-]{2,}\\.[a-z]{2,}$/i)\n      ) {\n        this.error_email = true;\n        this.error_message = \"Некорректный email\";\n        setTimeout(() => {\n          this.error_email = false;\n          this.error_message = null;\n        }, 2000);\n        return;\n      } else {\n        sendingData.email = this.email;\n      }\n      if (this.password.length === 0) {\n        this.error_password = true;\n        setTimeout(() => (this.error_password = false), 2000);\n        return;\n      } else {\n        sendingData.password = this.password;\n      }\n\n      this.$store\n        .dispatch(\"auth/login\", sendingData)\n        .then(() => {\n          this.$store.dispatch(\"hide_show_overlay\", false);\n          // console.log(res)\n        })\n        .catch(err => {\n          this.error_email = true;\n          this.error_password = true;\n          this.error_login_message =\n            \"Неправильный логин или пароль, попробуйте еще раз.\";\n          setTimeout(() => {\n            this.error_email = false;\n            this.error_password = false;\n            this.error_login_message = null;\n          }, 3000);\n          console.log(err.response);\n        });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.c-login-modal {\n  @extend %h100;\n  padding: rem(20) rem(116) 0 rem(114);\n  &__error {\n    @extend %text-very-small;\n    color: $red;\n  }\n  &__login {\n    @extend %df;\n    @extend %jcfe;\n    &-btn {\n      @extend %simple-btn-white;\n      width: rem(133);\n      height: rem(45);\n    }\n  }\n\n  &__field {\n    width: 100%;\n    margin-bottom: rem(18);\n  }\n\n  &__content {\n    @extend %df;\n    @extend %fdc;\n    @extend %jcc;\n    @extend %h100;\n    width: rem(312);\n  }\n\n  &__title {\n    font-size: rem(30);\n    margin-bottom: 1rem;\n    font-weight: 400;\n    @extend %ls-3;\n    line-height: 112.9%;\n  }\n\n  &__subtitle {\n    font-size: rem(14);\n    line-height: 140%;\n    width: rem(309);\n    margin-bottom: rem(30);\n  }\n\n  &__register-btn {\n    @extend %btn-border-green;\n    @extend %btn-all-green;\n    width: rem(311);\n    margin-top: rem(34);\n  }\n\n  &__social {\n    @extend %empt-btn;\n    width: 30px;\n    height: 30px;\n    border-radius: 5px;\n    background-repeat: no-repeat;\n\n    &-login {\n      text-align: center;\n      width: rem(311);\n    }\n\n    &:not(:last-child) {\n      margin-right: 11.53px;\n    }\n\n    &-tag {\n      margin-top: rem(40);\n      margin-bottom: rem(10);\n      @extend %ls-5;\n      @extend %regular;\n    }\n\n    &--google {\n      background-image: url($img_dir+\"/icons/google-auth.svg\");\n    }\n\n    &--facebook {\n      background-image: url($img_dir+\"/icons/fb-auth.svg\");\n    }\n\n    &--vk {\n      background-image: url($img_dir+\"/icons/vk-auth.svg\");\n    }\n  }\n  &__socials {\n    @extend %df;\n    @extend %aic;\n    @extend %jcc;\n    margin-bottom: rem(55);\n  }\n  &__forgot-password {\n    @extend %text-big;\n    color: $red;\n  }\n}\n@include bp(1100px) {\n  .c-login-modal {\n    padding: 20px 0 0 0;\n    max-width: 750px;\n    margin: 0 auto;\n    &__content {\n      margin: 0 auto;\n      height: auto;\n      padding-top: 50px;\n    }\n  }\n}\n</style>\n"]}]}