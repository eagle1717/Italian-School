{"remainingRequest":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\src\\views\\PurchaseSuccess.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\src\\views\\PurchaseSuccess.vue","mtime":1625895134250},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAkaHR0cCBmcm9tICJAL3NlcnZpY2UvaW5kZXguanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlB1cmNoYXNlU3VjY2VzcyIsCiAgbW91bnRlZCgpIHsKICAgIGNvbnN0IHsKICAgICAgZGF5LAogICAgICBmdWxsX2Zyb20sCiAgICAgIGZ1bGxfdG8sCiAgICAgIHRlYWNoZXIsCiAgICAgIGRlc2NyaXB0aW9uLAogICAgICBsZXNzb25fdHlwZV9pZCwKICAgICAgbGVzc29uX3R5cGVfc2x1ZywKICAgIH0gPSB0aGlzLiRyb3V0ZS5xdWVyeTsKICAgIGNvbnN0IFNlbmRpbmdEYXRhID0gewogICAgICBkYXksCiAgICAgIGZ1bGxfZnJvbSwKICAgICAgZnVsbF90bywKICAgICAgdGVhY2hlciwKICAgICAgZGVzY3JpcHRpb24sCiAgICAgIGxlc3Nvbl90eXBlX2lkLAogICAgICBsZXNzb25fdHlwZTogbGVzc29uX3R5cGVfc2x1ZwogICAgfTsKICAgICRodHRwCiAgICAgIC5jcmVhdGVfbGVzc29uKFNlbmRpbmdEYXRhKQogICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldF9sb2FkaW5nIiwgdHJ1ZSk7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInVzZXIvZ2V0X2xlc3NvbnMiKS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogIkNhbGVuZGFyIiB9KTsKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZXRfbG9hZGluZyIsIGZhbHNlKTsKICAgICAgICAgIC8vIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzaG93X3Jlc2VydmF0aW9uX2xlc3Nvbl9tb2RhbCIsIHsKICAgICAgICAgIC8vICAgZGF0YTogeyBkYXRlOiB0aGlzLmRheSB9LAogICAgICAgICAgLy8gICBtb2RhbF9uYW1lOiAibGVzc29ucy1tb2RhbCIKICAgICAgICAgIC8vIH0pOwogICAgICAgIH0pOwogICAgICB9KQogICAgICAuY2F0Y2goKHsgcmVzcG9uc2UgfSkgPT4gewogICAgICAgIGNvbnN0IHsgc3RhdHVzIH0gPSByZXNwb25zZTsKICAgICAgICBpZiAoc3RhdHVzID09PSA0MDApIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJlcnJvcl9oYW5kbGVyIiwgewogICAgICAgICAgICB0eXBlOiAiZGFuZ2VyIiwKICAgICAgICAgICAgdGV4dDogItCS0YDQtdC80Y8g0YPQttC1INC30LDQvdGP0YLQvi4g0J/QvtC/0YDQvtCx0YPQudGC0LUg0LTRgNGD0LPQvtC1IgogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09IDQyMikgewogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImVycm9yX2hhbmRsZXIiLCB7CiAgICAgICAgICAgIHR5cGU6ICJkYW5nZXIiLAogICAgICAgICAgICB0ZXh0OiAi0JfQsNC/0L7Qu9C90LjRgtC1INCy0YHQtSDQv9C+0LvRjyEiCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImVycm9yX2hhbmRsZXIiLCB7CiAgICAgICAgICB0eXBlOiAiZGFuZ2VyIiwKICAgICAgICAgIHRleHQ6ICLQndC1INGD0LTQsNC70L7RgdGMINC90LDQt9C90LDRh9C40YLRjCDQt9Cw0L3Rj9GC0LjQtSEg0J/QvtC/0YDQvtCx0YPQudGC0LUg0LXRidC1INGA0LDQty4iCiAgICAgICAgfSk7CiAgICAgIH0pOwogIH0KfTsK"},{"version":3,"sources":["PurchaseSuccess.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PurchaseSuccess.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"c-purchase-success\">\n    <figure class=\"c-purchase-success__img\">\n      <img src=\"img/ill/buy-plan/buy-success.svg\" alt=\"\" />\n    </figure>\n    <h1 class=\"c-purchase-success__title\">\n      Покупка пакета «Классический» прошла успешно!\n    </h1>\n    <p class=\"c-purchase-success__text\">\n      Выбери симпатичного тебе преподавателя и удобное время для занятий.\n    </p>\n    <router-link :to=\"{ name: 'HomePage' }\" class=\"c-purchase-success__next\">\n      <span>Продолжить</span>\n    </router-link>\n  </div>\n</template>\n\n<script>\nimport $http from \"@/service/index.js\";\nexport default {\n  name: \"PurchaseSuccess\",\n  mounted() {\n    const {\n      day,\n      full_from,\n      full_to,\n      teacher,\n      description,\n      lesson_type_id,\n      lesson_type_slug,\n    } = this.$route.query;\n    const SendingData = {\n      day,\n      full_from,\n      full_to,\n      teacher,\n      description,\n      lesson_type_id,\n      lesson_type: lesson_type_slug\n    };\n    $http\n      .create_lesson(SendingData)\n      .then(() => {\n        this.$store.dispatch(\"set_loading\", true);\n        this.$store.dispatch(\"user/get_lessons\").then(() => {\n          this.$router.push({ name: \"Calendar\" });\n          this.$store.dispatch(\"set_loading\", false);\n          // this.$store.dispatch(\"show_reservation_lesson_modal\", {\n          //   data: { date: this.day },\n          //   modal_name: \"lessons-modal\"\n          // });\n        });\n      })\n      .catch(({ response }) => {\n        const { status } = response;\n        if (status === 400) {\n          this.$store.dispatch(\"error_handler\", {\n            type: \"danger\",\n            text: \"Время уже занято. Попробуйте другое\"\n          });\n          return;\n        } else if (status === 422) {\n          this.$store.dispatch(\"error_handler\", {\n            type: \"danger\",\n            text: \"Заполните все поля!\"\n          });\n          return;\n        }\n        this.$store.dispatch(\"error_handler\", {\n          type: \"danger\",\n          text: \"Не удалось назначить занятие! Попробуйте еще раз.\"\n        });\n      });\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.c-purchase-success {\n  padding-top: rem(61);\n  padding-left: rem(31);\n  // .c-purchase-success__img\n\n  &__img {\n  }\n\n  // .c-purchase-success__title\n\n  &__title {\n    @extend %h2-title-regular;\n    color: $black;\n    max-width: rem(468);\n    margin-top: rem(54);\n    margin-bottom: rem(23);\n  }\n\n  // .c-purchase-success__text\n\n  &__text {\n    @extend %text-middle;\n    color: $gray;\n    max-width: rem(324);\n  }\n\n  // .c-purchase-success__next\n\n  &__next {\n    @extend %simple-btn-green;\n    width: 163px;\n    margin-top: rem(46);\n  }\n}\n</style>\n"]}]}