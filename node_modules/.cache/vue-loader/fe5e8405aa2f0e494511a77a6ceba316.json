{"remainingRequest":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\src\\components\\Base\\BaseWeekCalendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\src\\components\\Base\\BaseWeekCalendar.vue","mtime":1625895132678},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKLy8gaW1wb3J0IENhbGVuZGFyVG9vbHRpcCBmcm9tICJAL2NvbXBvbmVudHMvQ2FsZW5kYXJUb29sdGlwIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIC8vIENhbGVuZGFyVG9vbHRpcAogIH0sCiAgcHJvcHM6IHsKICAgIGxlc3NvbnM6IHsKICAgICAgdHlwZTogQXJyYXkKICAgIH0sCiAgICBpc01vZGFsOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4KICAgIH0sCiAgICBpc19jdXJhdG9yOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4KICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b2RheTogbnVsbCwKICAgICAgZGF0ZUNvbnRleHQ6IG51bGwsCiAgICAgIHN0YXRpY0RheXM6IFsi0J/QvSIsICLQktGCIiwgItCh0YAiLCAi0KfRgiIsICLQn9GCIiwgItCh0LEiLCAi0JLRgSJdLAogICAgICBzdGF0aWNEYXlzSVQ6IFsiTHVuIiwgIk1hciIsICJNZXIiLCAiR2lvIiwgIlZlbiIsICJTYWIiLCAiRG9tIl0sCiAgICAgIGxlc3Nvbkluc2lkZUFycmF5OiBbXSwKICAgICAgaXNUb29sdGlwVmlzaWJsZTogZmFsc2UsCiAgICAgIHRlYWNoZXJzOiBudWxsCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIG1vbWVudC5sb2NhbGUoInJ1Iik7CiAgICB0aGlzLnRvZGF5ID0gbW9tZW50KCk7CiAgICB0aGlzLmRhdGVDb250ZXh0ID0gbW9tZW50KCk7CiAgICBpZiAodGhpcy5sZXNzb25zKSB7CiAgICAgIHRoaXMubGVzc29uSW5zaWRlQXJyYXkgPSB0aGlzLmxlc3NvbnMubWFwKGVsID0+IGVsLmRheSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaG93VG9vbHRpcCgpIHsKICAgICAgLy8gdGhpcy5pc1Rvb2x0aXBWaXNpYmxlID0gIXRoaXMuaXNUb29sdGlwVmlzaWJsZTsKICAgICAgLy8gdGhpcy50ZWFjaGVycyA9IFsKICAgICAgLy8gICB7CiAgICAgIC8vICAgICBpZDogMjM0LAogICAgICAvLyAgICAgbmFtZTogIlRvbW90aHkiLAogICAgICAvLyAgICAgc3VybmFtZTogIk11cnBoeSIsCiAgICAgIC8vICAgICBwaG90bzogImltZy91c2Vycy9waG90b3MvMC5qcGciLAogICAgICAvLyAgICAgbGVzc29uVGltZVN0YXJ0OiAiMTg6MDAiCiAgICAgIC8vICAgfSwKICAgICAgLy8gICB7CiAgICAgIC8vICAgICBpZDogNDUzLAogICAgICAvLyAgICAgbmFtZTogIlRvbW90aHkiLAogICAgICAvLyAgICAgc3VybmFtZTogIk11cnBoeSIsCiAgICAgIC8vICAgICBwaG90bzogImltZy91c2Vycy9waG90b3MvMS5qcGciLAogICAgICAvLyAgICAgbGVzc29uVGltZVN0YXJ0OiAiMTg6MDAiCiAgICAgIC8vICAgfSwKICAgICAgLy8gICB7CiAgICAgIC8vICAgICBpZDogOTkwLAogICAgICAvLyAgICAgbmFtZTogIlRvbW90aHkiLAogICAgICAvLyAgICAgc3VybmFtZTogIk11cnBoeSIsCiAgICAgIC8vICAgICBwaG90bzogImltZy91c2Vycy9waG90b3MvMi5qcGciLAogICAgICAvLyAgICAgbGVzc29uVGltZVN0YXJ0OiAiMTg6MDAiCiAgICAgIC8vICAgfQogICAgICAvLyBdOwogICAgfSwKICAgIGNsaWNrT25EYXRlSXRlbShkYXRlKSB7CiAgICAgIGlmICghdGhpcy5pc19jdXJhdG9yKSB7CiAgICAgICAgbGV0IGV2ZW50RGF0YSA9IHsKICAgICAgICAgIHR5cGU6IHsKICAgICAgICAgICAgbmFtZTogImFkZC1sZXNzb24iCiAgICAgICAgICB9LAogICAgICAgICAgZGF0ZQogICAgICAgIH07CiAgICAgICAgaWYgKHRoaXMubGVzc29ucykgewogICAgICAgICAgY29uc3QgbGVzc29uSXRlbSA9IHRoaXMubGVzc29ucy5maW5kKGVsID0+IGVsLmRheSA9PT0gZGF0ZS5mdWxsRGF0ZSk7CiAgICAgICAgICBpZiAobGVzc29uSXRlbSkgewogICAgICAgICAgICBldmVudERhdGEudHlwZS5uYW1lID0gImxlc3NvbnMtbW9kYWwiOwogICAgICAgICAgICBldmVudERhdGEudHlwZS5sZXNzb24gPSBsZXNzb25JdGVtOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB0aGlzLiRlbWl0KCJjbGljayIsIGV2ZW50RGF0YSk7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBtb250aCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZGF0ZUNvbnRleHQuZm9ybWF0KCJNTU1NIik7CiAgICB9LAogICAgbGVzc29uc0NvdW50KCkgewogICAgICBsZXQgY291bnQgPSAwOwogICAgICBmb3IgKGxldCBkYXkgb2YgdGhpcy5kYXlzSW5XZWVrKSB7CiAgICAgICAgaWYgKHRoaXMubGVzc29uSW5zaWRlQXJyYXkuaW5jbHVkZXMoZGF5LmZ1bGxEYXRlKSkgewogICAgICAgICAgKytjb3VudDsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGNvdW50OwogICAgfSwKICAgIGRheXNJbldlZWsoKSB7CiAgICAgIGNvbnN0IGRhdGEgPSBbLi4uQXJyYXkoNyldLm1hcCgoXywgaSkgPT4gewogICAgICAgIGNvbnN0IGJhc2VEYXRlID0gdGhpcy5kYXRlQ29udGV4dAogICAgICAgICAgLnN0YXJ0T2YoIndlZWsiKQogICAgICAgICAgLmNsb25lKCkKICAgICAgICAgIC5hZGQoaSwgImRheSIpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBkYXk6IGJhc2VEYXRlLmZvcm1hdCgiREQiKSwKICAgICAgICAgIGZ1bGxEYXRlOiBiYXNlRGF0ZS5mb3JtYXQoIllZWVktTU0tREQiKQogICAgICAgIH07CiAgICAgIH0pOwogICAgICByZXR1cm4gZGF0YTsKICAgIH0sCiAgICBjdXJyZW50RGF0ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZGF0ZUNvbnRleHQuZ2V0KCJkYXRlIik7CiAgICB9LAogICAgaW5pdGlhbERhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLnRvZGF5LmdldCgiZGF0ZSIpOwogICAgfSwKICAgIGluaXRpYWxNb250aCgpIHsKICAgICAgcmV0dXJuIHRoaXMudG9kYXkuZm9ybWF0KCJNTU1NIik7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["BaseWeekCalendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BaseWeekCalendar.vue","sourceRoot":"src/components/Base","sourcesContent":["<template>\n  <div class=\"c-calendar-week\">\n    <div class=\"c-calendar-week__wrap\">\n      <div class=\"c-calendar-week__static-days\">\n        <div\n          v-for=\"staticDay in is_curator ? staticDaysIT : staticDays\"\n          :key=\"staticDay\"\n          class=\"c-calendar-week__name-days\"\n        >\n          <span>{{ staticDay }}</span>\n        </div>\n      </div>\n      <div class=\"c-calendar-week__items\">\n        <BaseCalendarDay\n          v-for=\"(date, index) in daysInWeek\"\n          :key=\"`${index}-day`\"\n          :date_object=\"date\"\n          :day=\"date.day\"\n          :full_date=\"date.fullDate\"\n          :init-date=\"initialDate\"\n          :init-month=\"initialMonth\"\n          :month=\"month\"\n          :daysOff=\"[]\"\n          :is_week=\"true\"\n          :lessons_array=\"lessonInsideArray\"\n          @click=\"clickOnDateItem(date)\"\n        />\n        <!-- <BaseCalendarDay\n          v-for=\"(date, index) in daysInWeek\"\n          :key=\"`${index}-day`\"\n          :date_object=\"date\"\n          :day=\"date.day\"\n          :full_date=\"date.fullDate\"\n          :init-date=\"initialDate\"\n          :init-month=\"initialMonth\"\n          :month=\"month\"\n          :daysOff=\"[]\"\n          :is_week=\"true\"\n          :lessons_array=\"lessonInsideArray\"\n          @click=\"clickOnDateItem(date)\"\n        /> -->\n        <!--        <li-->\n        <!--          v-for=\"(date, index) in daysInWeek\"-->\n        <!--          :key=\"`${index}date`\"-->\n        <!--          :class=\"{-->\n        <!--            'current-day':-->\n        <!--              parseInt(date.day) === initialDate && month === initialMonth,-->\n        <!--            disabled:-->\n        <!--              parseInt(date.day) < initialDate && month === initialMonth,-->\n        <!--            lesson: lessonInsideArray.includes(date.fullDate)-->\n        <!--          }\"-->\n        <!--          class=\"c-calendar-week__item\"-->\n        <!--          @mouseover=\"showTooltip\"-->\n        <!--        >-->\n        <!--          <span class=\"c-calendar-week__item-data\">{{ date.day }}</span>-->\n        <!--          <template v-if=\"!isModal\">-->\n        <!--            <template v-if=\"lessonInsideArray.includes(date.fullDate)\">-->\n        <!--              <CalendarTooltip v-if=\"isTooltipVisible\" :teachers=\"teachers\" />-->\n        <!--            </template>-->\n        <!--          </template>-->\n        <!--        </li>-->\n      </div>\n    </div>\n    <template v-if=\"!isModal\">\n      <div class=\"c-calendar-week__desc\">\n        <figure class=\"c-calendar-week__img\">\n          <img src=\"img/ill/classes-red.svg\" alt=\"\" />\n        </figure>\n        <h3 class=\"c-calendar-week__title\">\n          <template v-if=\"is_curator\">\n            Hai\n            <b>\n              {{ lessonsCount }}\n              <template>lezioni</template>\n            </b>\n            <br />\n            questa settimana\n          </template>\n          <template v-else>\n            У вас\n            <b>\n              {{ lessonsCount }}\n              <template v-if=\"lessonsCount <= 3\">занятия</template>\n              <template v-else>занятий</template>\n            </b>\n            <br />\n            на этой неделе\n          </template>\n        </h3>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport moment from \"moment\";\n// import CalendarTooltip from \"@/components/CalendarTooltip\";\nexport default {\n  components: {\n    // CalendarTooltip\n  },\n  props: {\n    lessons: {\n      type: Array\n    },\n    isModal: {\n      type: Boolean\n    },\n    is_curator: {\n      type: Boolean\n    }\n  },\n  data() {\n    return {\n      today: null,\n      dateContext: null,\n      staticDays: [\"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\", \"Вс\"],\n      staticDaysIT: [\"Lun\", \"Mar\", \"Mer\", \"Gio\", \"Ven\", \"Sab\", \"Dom\"],\n      lessonInsideArray: [],\n      isTooltipVisible: false,\n      teachers: null\n    };\n  },\n  created() {\n    moment.locale(\"ru\");\n    this.today = moment();\n    this.dateContext = moment();\n    if (this.lessons) {\n      this.lessonInsideArray = this.lessons.map(el => el.day);\n    }\n  },\n  methods: {\n    showTooltip() {\n      // this.isTooltipVisible = !this.isTooltipVisible;\n      // this.teachers = [\n      //   {\n      //     id: 234,\n      //     name: \"Tomothy\",\n      //     surname: \"Murphy\",\n      //     photo: \"img/users/photos/0.jpg\",\n      //     lessonTimeStart: \"18:00\"\n      //   },\n      //   {\n      //     id: 453,\n      //     name: \"Tomothy\",\n      //     surname: \"Murphy\",\n      //     photo: \"img/users/photos/1.jpg\",\n      //     lessonTimeStart: \"18:00\"\n      //   },\n      //   {\n      //     id: 990,\n      //     name: \"Tomothy\",\n      //     surname: \"Murphy\",\n      //     photo: \"img/users/photos/2.jpg\",\n      //     lessonTimeStart: \"18:00\"\n      //   }\n      // ];\n    },\n    clickOnDateItem(date) {\n      if (!this.is_curator) {\n        let eventData = {\n          type: {\n            name: \"add-lesson\"\n          },\n          date\n        };\n        if (this.lessons) {\n          const lessonItem = this.lessons.find(el => el.day === date.fullDate);\n          if (lessonItem) {\n            eventData.type.name = \"lessons-modal\";\n            eventData.type.lesson = lessonItem;\n          }\n        }\n        this.$emit(\"click\", eventData);\n      }\n    }\n  },\n  computed: {\n    month() {\n      return this.dateContext.format(\"MMMM\");\n    },\n    lessonsCount() {\n      let count = 0;\n      for (let day of this.daysInWeek) {\n        if (this.lessonInsideArray.includes(day.fullDate)) {\n          ++count;\n        }\n      }\n      return count;\n    },\n    daysInWeek() {\n      const data = [...Array(7)].map((_, i) => {\n        const baseDate = this.dateContext\n          .startOf(\"week\")\n          .clone()\n          .add(i, \"day\");\n        return {\n          day: baseDate.format(\"DD\"),\n          fullDate: baseDate.format(\"YYYY-MM-DD\")\n        };\n      });\n      return data;\n    },\n    currentDate() {\n      return this.dateContext.get(\"date\");\n    },\n    initialDate() {\n      return this.today.get(\"date\");\n    },\n    initialMonth() {\n      return this.today.format(\"MMMM\");\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.c-calendar-week {\n  @extend %df;\n  // .c-calendar-week__wrap\n\n  &__wrap {\n    min-width: rem(698);\n  }\n\n  // .c-calendar-week__static-days\n\n  &__static-days {\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    margin-bottom: rem(15);\n  }\n\n  // .c-calendar-week__name-days\n\n  &__name-days {\n    @extend %df;\n    justify-content: flex-end;\n    padding: 0 20px 0px 0px;\n    @extend %text-middle;\n    color: $gray;\n  }\n\n  // .c-calendar-week__items\n\n  &__items {\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    column-gap: rem(2);\n    row-gap: rem(2);\n    width: 100%;\n  }\n\n  // .c-calendar-week__item\n\n  &__item {\n    // width: rem(98);\n    height: rem(98);\n    background-color: $white;\n    border-radius: 2px;\n    position: relative;\n    border: 1px solid $soft_gray;\n    transition: all 0.5s ease;\n    cursor: pointer;\n    &:hover {\n      border-color: $gray;\n      .c-calendar-week__item-hover {\n        opacity: 1;\n      }\n      .c-calendar-tooltip {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n    &.current-day {\n      .c-calendar-week__item-data {\n        color: $green;\n      }\n    }\n    &.disabled {\n      @extend %evt-none;\n      background-color: rgba($color: $white, $alpha: 0.5);\n      border-color: rgba($color: $soft_gray, $alpha: 0.2);\n      .c-calendar-week__item-data {\n        color: $soft_gray;\n      }\n    }\n    &.lesson {\n      background-color: #f1ffea;\n      border-color: $green;\n      .c-calendar {\n        &__item-data {\n          color: $green;\n        }\n      }\n    }\n  }\n\n  // .c-calendar-week__item-data\n\n  &__item-data {\n    position: absolute;\n    top: rem(12);\n    right: rem(17);\n    @extend %h3-title-bold;\n    color: $black;\n    @extend %evt-none;\n  }\n  &__desc {\n    margin-top: rem(40);\n    margin-left: rem(33);\n  }\n  &__img {\n    margin-bottom: rem(15);\n  }\n  &__title {\n    @extend %text-middle;\n    color: $gray;\n    b {\n      @extend %bold;\n    }\n  }\n}\n@include bp(1100px) {\n  .c-calendar-week {\n    &__wrap {\n      min-width: 593px;\n    }\n    &__item {\n      width: 83px;\n      height: 83px;\n    }\n  }\n}\n@include bp(766px) {\n  .c-calendar-week {\n    flex-direction: column;\n    &__wrap {\n      min-width: 100%;\n    }\n    &__desc {\n      margin-left: 0;\n    }\n    &__name-days {\n      font-size: rem(12);\n      &:nth-child(6),\n      &:nth-child(7) {\n        position: absolute;\n        top: 110px;\n      }\n      &:nth-child(6) {\n        left: 23px;\n      }\n      &:nth-child(7) {\n        left: 87px;\n      }\n    }\n    &__static-days {\n      grid-template-columns: repeat(5, 1fr);\n      /*grid-template-rows: repeat(2, 1fr);*/\n      position: relative;\n      margin-bottom: 9px;\n    }\n    &__items {\n      grid-template-columns: repeat(5, 1fr);\n      grid-template-rows: repeat(2, 1fr);\n      row-gap: 43px;\n    }\n    &__item {\n      width: 62px;\n      height: 62px;\n      &-data {\n        top: 9px;\n        right: 9px;\n        font-size: rem(16);\n      }\n    }\n    &__desk {\n      margin: -67px 0 0 168px;\n    }\n    &__img {\n      margin-bottom: 0;\n      img {\n        width: 35px;\n      }\n    }\n    &__title {\n    }\n  }\n}\n</style>\n"]}]}