{"remainingRequest":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\src\\views\\TeacherTimeLine.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\src\\views\\TeacherTimeLine.vue","mtime":1625895133633},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmMtdGVhY2hlci1jYWxlbmRhciB7CiAgY3Vyc29yOiBkZWZhdWx0OwogICYuY3Vyc29yLWFjdGl2ZSB7CiAgICBjdXJzb3I6IG5vbmU7CiAgICAuYy1jYWxlbmRhcl9faXRlbSB7CiAgICAgIGN1cnNvcjogbm9uZTsKICAgIH0KICB9CiAgLmN1cnNvciB7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJGltZ19kaXIgKyAiY3Vyc29yLnBuZyIpOwogICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsKICAgIHdpZHRoOiAyM3B4OwogICAgaGVpZ2h0OiAyM3B4OwogICAgdG9wOiAtMjNweDsKICAgIGxlZnQ6IDJweDsKICAgIGRpc3BsYXk6IG5vbmU7CiAgICAmLmN1cnNvci1hY3RpdmUgewogICAgICBkaXNwbGF5OiBibG9jazsKICAgIH0KICAgIC8qdHJhbnNpdGlvbjogYWxsIC4xcyBlYXNlOyovCiAgICB6LWluZGV4OiA5OTk7CiAgfQogICZfX2NvbnRhaW5lciB7CiAgICBtYXgtd2lkdGg6IDg5MnB4OwogICAgcGFkZGluZy1sZWZ0OiAzMXB4OwogICAgcGFkZGluZy10b3A6IDQwcHg7CiAgICAmLS10eXBlLTIgewogICAgICBkaXNwbGF5OiBmbGV4OwogICAgfQogIH0KICAmX19saW5lIHsKICB9CiAgJl9fdGltZWxpbmUgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgaGVpZ2h0OiA5NXB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogJHdoaXRlOwogICAgcGFkZGluZzogMCAyOXB4OwogICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgIHRyYW5zaXRpb246IGFsbCAwLjVzIGVhc2U7CiAgICAmLmhvdmVyZWQgewogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmZmVhOwogICAgICAuYy10ZWFjaGVyLWNhbGVuZGFyX191c2VyLWxpbmsgewogICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgQGV4dGVuZCAlZXZ0LWFsbDsKICAgICAgfQogICAgfQogICAgLnZ1ZS1zbGlkZXIgewogICAgICAvKnBvc2l0aW9uOiByOyovCiAgICAgIC8qPCEtLWJvdHRvbTogLTUwcHg7LS0+Ki8KICAgIH0KICAgIC52dWUtc2xpZGVyLW1hcmtzIHsKICAgICAgLnZ1ZS1zbGlkZXItbWFyayB7CiAgICAgICAgLnZ1ZS1zbGlkZXItbWFyay1sYWJlbCB7CiAgICAgICAgICBAZXh0ZW5kICVyZWd1bGFyOwogICAgICAgICAgbGluZS1oZWlnaHQ6IHJlbSgyMCk7CiAgICAgICAgICBmb250LXNpemU6IHJlbSgxMik7CiAgICAgICAgICBjb2xvcjogJGdyYXk7CiAgICAgICAgfQoKICAgICAgICAmOmZpcnN0LWNoaWxkIHsKICAgICAgICAgIGxlZnQ6IDIuMyUgIWltcG9ydGFudDsKICAgICAgICB9CiAgICAgICAgJjpsYXN0LWNoaWxkIHsKICAgICAgICAgIGxlZnQ6IDk3LjUlICFpbXBvcnRhbnQ7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAmX3NtYWxsIHsKICAgICAgLnZ1ZS1zbGlkZXIgewogICAgICAgIG1hcmdpbi10b3A6IDQ5cHg7CiAgICAgIH0KICAgICAgLnZ1ZS1zbGlkZXItbWFya3MgewogICAgICAgIC52dWUtc2xpZGVyLW1hcmsgewogICAgICAgICAgJjpmaXJzdC1jaGlsZCB7CiAgICAgICAgICAgIGxlZnQ6IDYuMyUgIWltcG9ydGFudDsKICAgICAgICAgIH0KICAgICAgICAgICY6bGFzdC1jaGlsZCB7CiAgICAgICAgICAgIGxlZnQ6IDkzLjUlICFpbXBvcnRhbnQ7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAmX2VtcHR5IHsKICAgICAgLnZ1ZS1zbGlkZXIgewogICAgICAgIG1hcmdpbi10b3A6IDQ5cHg7CiAgICAgIH0KICAgIH0KICB9CiAgJl9fdGltZS1saW5lcyB7CiAgICBkaXNwbGF5OiBncmlkOwogICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNTksIDFmcik7CiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgMWZyKTsKICAgIGJhY2tncm91bmQtY29sb3I6ICRkYXJrX3doaXRlOwogICAgcGFkZGluZzogMjZweCAzM3B4OwogIH0KICAmX191c2VyIHsKICAgIEBleHRlbmQgJWRmOwogICAgQGV4dGVuZCAlYWljOwogICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgIG1hcmdpbi10b3A6IDExcHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAmLmVtcHR5IHsKICAgICAgaGVpZ2h0OiAyOHB4OwogICAgfQogICAgJi1pbWcgewogICAgICB3aWR0aDogMjhweDsKICAgICAgaGVpZ2h0OiAyOHB4OwogICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICB9CiAgICAmLWNvbnRlbnQgewogICAgICBAZXh0ZW5kICVkZjsKICAgIH0KICAgICYtbmFtZSB7CiAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4OwogICAgfQogICAgJi1uYW1lLAogICAgJi1saW5rIHsKICAgICAgQGV4dGVuZCAldGV4dC1zbWFsbC1iaWctbGluZS1oZWlnaHQ7CiAgICAgIGNvbG9yOiAkZ3JheTsKICAgIH0KICAgICYtbGluayB7CiAgICAgIGNvbG9yOiAkZ3JlZW47CiAgICAgIG1hcmdpbi1sZWZ0OiAyMHB4OwogICAgICBvcGFjaXR5OiAwOwogICAgICB0cmFuc2l0aW9uOiBhbGwgMC41cyBlYXNlOwogICAgICBAZXh0ZW5kICVldnQtbm9uZTsKICAgIH0KICB9Cn0KQGluY2x1ZGUgYnAoNzY2cHgpIHsKICAuYy10ZWFjaGVyLWNhbGVuZGFyIHsKICAgICZfX2NvbnRhaW5lciB7CiAgICAgIG1heC13aWR0aDogMzIwcHg7CiAgICAgIHBhZGRpbmctbGVmdDogMDsKICAgICAgcGFkZGluZy10b3A6IDQwcHg7CiAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgfQogICAgJl9fdGltZS1saW5lcyB7CiAgICAgIHBhZGRpbmctbGVmdDogMTBweDsKICAgICAgcGFkZGluZy1yaWdodDogMTBweDsKICAgIH0KICB9CiAgLmMtdGVhY2hlci1jYWxlbmRhcl9fdGltZWxpbmUKICAgIC52dWUtc2xpZGVyLW1hcmtzCiAgICAudnVlLXNsaWRlci1tYXJrCiAgICAudnVlLXNsaWRlci1tYXJrLWxhYmVsIHsKICAgIGZvbnQtc2l6ZTogNXB4OwogIH0KICAuYy10ZWFjaGVyLWNhbGVuZGFyX190aW1lbGluZSB7CiAgICBwYWRkaW5nOiAwIDE1cHg7CiAgfQogIC5jLXRlYWNoZXItY2FsZW5kYXJfX3VzZXItbGluayB7CiAgICB3aWR0aDogMTVweDsKICAgIGhlaWdodDogMTVweDsKICB9CiAgLmMtdGVhY2hlci1jYWxlbmRhcl9fdXNlci1uYW1lIHsKICAgIGZvbnQtc2l6ZTogcmVtKDcpOwogIH0KICAuYy10ZWFjaGVyLWNhbGVuZGFyX191c2VyLWxpbmsgewogICAgZGlzcGxheTogbm9uZTsKICB9Cn0K"},{"version":3,"sources":["TeacherTimeLine.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TeacherTimeLine.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div\n    class=\"c-teacher-calendar\"\n    ref=\"calendar\"\n    :class=\"{ 'cursor-active': make_day_off }\"\n  >\n    <div\n      class=\"cursor\"\n      :class=\"{ 'cursor-active': make_day_off }\"\n      ref=\"cursor\"\n    ></div>\n    <div class=\"c-teacher-calendar__container\">\n      <div\n        class=\"c-calendar__curator-btns\"\n        :class=\"{ 'mb-0': this.show_hour_timeline }\"\n      >\n        <button\n          class=\"c-calendar__curator-btn c-calendar__change\"\n          :class=\"{ active: make_day_off }\"\n          @click=\"show_day_off_cursor\"\n        >\n          <svg\n            width=\"14\"\n            height=\"15\"\n            viewBox=\"0 0 14 15\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M0.143066 11.5716V14.4291H3.00061L11.4323 5.99748L8.57471 3.13994L0.143066 11.5716ZM13.6345 3.79527C13.9316 3.49809 13.9316 3.01421 13.6345 2.71703L11.8552 0.937732C11.558 0.640548 11.0741 0.640548 10.7769 0.937732L9.38245 2.33221L12.24 5.18975L13.6345 3.79527Z\"\n              fill=\"#EF4036\"\n            />\n          </svg>\n        </button>\n        <button\n          @click=\"show_timeline\"\n          class=\"c-calendar__curator-btn c-calendar__hour-mode\"\n          :class=\"{ active: this.show_hour_timeline }\"\n        >\n          <span></span>\n          <span></span>\n          <span></span>\n        </button>\n        <button\n          @click=\"show_timeline\"\n          class=\"c-calendar__curator-btn c-calendar__day-mode\"\n          :class=\"{ active: !this.show_hour_timeline }\"\n        >\n          <span></span><span></span><span></span><span></span>\n        </button>\n      </div>\n      <template v-if=\"show_hour_timeline\">\n        <BaseCuratorTime\n          :is_edit=\"make_day_off\"\n          :time_off=\"times_off\"\n          @change_date=\"change_timeline_date\"\n          @change_time_slider=\"change_curator_slider\"\n          :selected_date=\"current_date\"\n          :timeline=\"day_timeline\"\n        />\n      </template>\n      <template v-else>\n        <BaseCalendar\n          :is_curator=\"true\"\n          :daysOff=\"days_off\"\n          @initDate=\"init_date\"\n          @show-timeline=\"show_timeline\"\n          :lessons=\"lessons_getter\"\n          :make_day_off=\"make_day_off\"\n          @make-day-off=\"make_day_off_method\"\n        />\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport moment from \"moment\";\nexport default {\n  name: \"TeacherCalendar\",\n  computed: {\n    ...mapGetters(\"user\", [\n      \"curator_confirmed_lessons\",\n      \"curator_time_off\",\n      \"curator_day_off\"\n    ]),\n    lessons_getter() {\n      return this.lessons;\n    },\n    day_timeline() {\n      return this.time_lines;\n    },\n    days_off() {\n      return this.curator_day_off.map(({ calendar_day }) => calendar_day);\n    },\n    confirmed_lessons() {\n      if (this.curator_confirmed_lessons) {\n        if (this.curator_confirmed_lessons.length > 0) {\n          return this.curator_confirmed_lessons;\n        } else {\n          return [];\n        }\n      } else {\n        return [];\n      }\n    },\n    all_lessons() {\n      return this.curator_confirmed_lessons.map(\n        ({\n          id,\n          user_id,\n          homework,\n          calendar_day,\n          is_homework_checked,\n          link_to_lesson,\n          is_homework_done,\n          lesson_type,\n          description,\n          full_from,\n          full_to,\n          hour_from,\n          hour_to,\n          minute_from,\n          minute_to,\n          user: { first_name, last_name, photo, photo_path }\n        }) => {\n          return {\n            id: id,\n            student_id: user_id,\n            first_name,\n            last_name,\n            photo: photo ? photo_path : null,\n            date: calendar_day,\n            time_from: full_from,\n            time_to: full_to,\n            fromHour: hour_from,\n            fromMinutes: minute_from,\n            toHour: hour_to,\n            toMinutes: minute_to,\n            link_to_lesson,\n            link_to_homework: homework,\n            lesson_comment: description,\n            lesson_type: lesson_type.name,\n            is_homework_done,\n            is_homework_checked\n          };\n        }\n      );\n    },\n    all_lessons_array() {\n      return this.all_lessons;\n    },\n    lessons() {\n      return this.all_lessons.map(({ date, id }) => {\n        return {\n          day: date,\n          id\n        };\n      });\n    },\n    time_off() {\n      return this.curator_time_off.map(\n        ({\n          calendar_day,\n          full_from,\n          full_to,\n          hour_from,\n          hour_to,\n          minute_from,\n          minute_to\n        }) => {\n          return {\n            id: +hour_from + +hour_to + 35 + Math.random(),\n            day: calendar_day,\n            full_from,\n            full_to,\n            fromHour: +hour_from,\n            toHour: +hour_to,\n            fromMinutes: +minute_from,\n            toMinutes: +minute_to\n          };\n        }\n      );\n    }\n  },\n  data() {\n    return {\n      show_hour_timeline: false,\n      time_lines: [],\n      times_off: [],\n      select_timeline_date: undefined,\n      make_day_off: false,\n      current_date: \"\",\n      inital_date: \"\",\n      curator_new_time_off: null\n    };\n  },\n  methods: {\n    make_day_off_method(data) {\n      this.$store.dispatch(\"user/make_day_off\", data.fullDate).then(() => {\n        const { calendar } = this.$refs;\n        calendar.removeEventListener(\"mousemove\", this.mouseMoveListener);\n        this.make_day_off = !this.make_day_off;\n      });\n    },\n    show_timeline(calendarDate) {\n      if (!this.show_hour_timeline) {\n        let result = [];\n        if (calendarDate) {\n          const is_have_time_off =\n            this.time_off.filter(el => el.day === calendarDate.fullDate)\n              .length > 0;\n\n          const is_day_off = this.days_off.includes(calendarDate.fullDate);\n          if (is_have_time_off) {\n            const is_full_day_off =\n              this.time_off.filter(\n                el =>\n                  el.fromHour === 9 &&\n                  el.toHour === 18 &&\n                  el.day === calendarDate.fullDate\n              ).length > 0;\n\n            if (is_full_day_off) {\n              this.times_off = is_full_day_off;\n            } else {\n              this.time_off.forEach(el => {\n                if (el.day === calendarDate.fullDate) {\n                  result.push(el);\n                }\n              });\n              this.times_off = [...result];\n            }\n          } else {\n            this.times_off = [];\n          }\n          if (is_day_off) {\n            this.times_off.push({\n              id: 189,\n              day: calendarDate.fullDate,\n              full_from: \"9:00\",\n              full_to: \"19:00\",\n              fromHour: 9,\n              toHour: 18,\n              fromMinutes: 0,\n              toMinutes: 55\n            });\n          } else {\n            const indexTime = this.times_off.findIndex(el => el.id === 189);\n            if (!indexTime) {\n              this.times_off.splice(indexTime, 1);\n            }\n          }\n          this.time_lines = this.timeline_getter(calendarDate);\n        } else {\n          const today = {};\n          today.fullDate = moment().format(\"YYYY-MM-DD\");\n          const is_have_time_off = this.time_off.filter(\n            el => el.day === calendarDate.fullDate\n          );\n          const is_day_off = this.days_off.includes(calendarDate.fullDate);\n          if (is_have_time_off.length > 0) {\n            const is_full_day_off = is_have_time_off.filter(\n              el => el.fromHour === 9 && el.toHour === 18\n            );\n            if (is_full_day_off.length > 0) {\n              this.times_off = is_full_day_off;\n            } else {\n              this.times_off = is_have_time_off;\n            }\n          } else {\n            this.times_off = [];\n          }\n          if (is_day_off) {\n            this.times_off.push({\n              id: 60,\n              day: calendarDate.fullDate,\n              full_from: \"9:00\",\n              full_to: \"19:00\",\n              fromHour: 9,\n              toHour: 18,\n              fromMinutes: 0,\n              toMinutes: 55\n            });\n          } else {\n            const indexTime = this.times_off.findIndex(el => el.id === 60);\n            this.times_off.splice(indexTime, 1);\n          }\n          this.time_lines = this.timeline_getter(today);\n        }\n        this.time_lines = this.timeline_getter(calendarDate);\n      }\n      calendarDate.fullDate\n        ? (this.current_date = calendarDate.fullDate)\n        : (this.current_date = this.inital_date);\n      this.show_hour_timeline = !this.show_hour_timeline;\n    },\n    timeline_getter({ fullDate }) {\n      return this.all_lessons_array.filter(({ date }) => {\n        if (fullDate === date) return true;\n      });\n    },\n    change_timeline_date(calendarDate) {\n      const { fullDate } = calendarDate;\n      const is_have_time_off = this.time_off.filter(el => el.day === fullDate);\n      const is_day_off = this.days_off.includes(fullDate);\n\n      if (is_have_time_off.length > 0) {\n        const is_full_day_off = is_have_time_off.filter(\n          el => el.fromHour === 9 && el.toHour === 18\n        );\n        if (is_full_day_off.length > 0) {\n          this.times_off = is_full_day_off;\n        } else {\n          this.times_off = is_have_time_off;\n        }\n      } else {\n        this.times_off = [];\n      }\n      if (is_day_off) {\n        this.times_off.push({\n          id: 60,\n          day: calendarDate.fullDate,\n          full_from: \"9:00\",\n          full_to: \"19:00\",\n          fromHour: 9,\n          toHour: 18,\n          fromMinutes: 0,\n          toMinutes: 55\n        });\n      } else {\n        const indexTime = this.times_off.findIndex(el => el.id === 60);\n        this.times_off.splice(indexTime, 1);\n      }\n\n      this.time_lines = this.timeline_getter(calendarDate);\n    },\n    show_day_off_cursor() {\n      if (this.make_day_off) {\n        const { calendar } = this.$refs;\n        calendar.removeEventListener(\"mousemove\", this.mouseMoveListener);\n      }\n      if (this.curator_new_time_off) {\n        this.$store\n          .dispatch(\"user/make_time_off\", this.curator_new_time_off)\n          .then(() => {\n            this.curator_new_time_off = null;\n          });\n      }\n      this.make_day_off = !this.make_day_off;\n    },\n    mouseMoveListener(event) {\n      const { cursor } = this.$refs;\n      const x = event.clientX,\n        y = event.clientY;\n\n      cursor.style.transform = `translate3d(${x}px, ${y}px, 0)`;\n    },\n    init_date(date) {\n      this.current_date = date;\n      this.inital_date = date;\n    },\n    change_curator_slider(data) {\n      this.curator_new_time_off = data;\n    }\n  },\n  mounted() {\n    const { calendar } = this.$refs;\n    if (this.make_day_off) {\n      calendar.addEventListener(\"mousemove\", this.mouseMoveListener);\n    }\n  },\n  updated() {\n    const { calendar } = this.$refs;\n    if (this.make_day_off) {\n      calendar.addEventListener(\"mousemove\", this.mouseMoveListener);\n    }\n  },\n  beforeDestroy() {\n    const { calendar } = this.$refs;\n    if (this.make_day_off) {\n      calendar.removeEventListener(\"mousemove\", this.mouseMoveListener);\n      // calendar.style.cursor = 'auto'\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.c-teacher-calendar {\n  cursor: default;\n  &.cursor-active {\n    cursor: none;\n    .c-calendar__item {\n      cursor: none;\n    }\n  }\n  .cursor {\n    position: fixed;\n    background-image: url($img_dir + \"cursor.png\");\n    background-size: cover;\n    width: 23px;\n    height: 23px;\n    top: -23px;\n    left: 2px;\n    display: none;\n    &.cursor-active {\n      display: block;\n    }\n    /*transition: all .1s ease;*/\n    z-index: 999;\n  }\n  &__container {\n    max-width: 892px;\n    padding-left: 31px;\n    padding-top: 40px;\n    &--type-2 {\n      display: flex;\n    }\n  }\n  &__line {\n  }\n  &__timeline {\n    position: relative;\n    height: 95px;\n    background-color: $white;\n    padding: 0 29px;\n    margin-bottom: 10px;\n    transition: all 0.5s ease;\n    &.hovered {\n      background-color: #f1ffea;\n      .c-teacher-calendar__user-link {\n        opacity: 1;\n        @extend %evt-all;\n      }\n    }\n    .vue-slider {\n      /*position: r;*/\n      /*<!--bottom: -50px;-->*/\n    }\n    .vue-slider-marks {\n      .vue-slider-mark {\n        .vue-slider-mark-label {\n          @extend %regular;\n          line-height: rem(20);\n          font-size: rem(12);\n          color: $gray;\n        }\n\n        &:first-child {\n          left: 2.3% !important;\n        }\n        &:last-child {\n          left: 97.5% !important;\n        }\n      }\n    }\n    &_small {\n      .vue-slider {\n        margin-top: 49px;\n      }\n      .vue-slider-marks {\n        .vue-slider-mark {\n          &:first-child {\n            left: 6.3% !important;\n          }\n          &:last-child {\n            left: 93.5% !important;\n          }\n        }\n      }\n    }\n    &_empty {\n      .vue-slider {\n        margin-top: 49px;\n      }\n    }\n  }\n  &__time-lines {\n    display: grid;\n    grid-template-columns: repeat(59, 1fr);\n    grid-template-rows: repeat(10, 1fr);\n    background-color: $dark_white;\n    padding: 26px 33px;\n  }\n  &__user {\n    @extend %df;\n    @extend %aic;\n    margin-bottom: 10px;\n    margin-top: 11px;\n    cursor: pointer;\n    &.empty {\n      height: 28px;\n    }\n    &-img {\n      width: 28px;\n      height: 28px;\n      overflow: hidden;\n      border-radius: 50%;\n    }\n    &-content {\n      @extend %df;\n    }\n    &-name {\n      margin-left: 10px;\n    }\n    &-name,\n    &-link {\n      @extend %text-small-big-line-height;\n      color: $gray;\n    }\n    &-link {\n      color: $green;\n      margin-left: 20px;\n      opacity: 0;\n      transition: all 0.5s ease;\n      @extend %evt-none;\n    }\n  }\n}\n@include bp(766px) {\n  .c-teacher-calendar {\n    &__container {\n      max-width: 320px;\n      padding-left: 0;\n      padding-top: 40px;\n      margin: 0 auto;\n    }\n    &__time-lines {\n      padding-left: 10px;\n      padding-right: 10px;\n    }\n  }\n  .c-teacher-calendar__timeline\n    .vue-slider-marks\n    .vue-slider-mark\n    .vue-slider-mark-label {\n    font-size: 5px;\n  }\n  .c-teacher-calendar__timeline {\n    padding: 0 15px;\n  }\n  .c-teacher-calendar__user-link {\n    width: 15px;\n    height: 15px;\n  }\n  .c-teacher-calendar__user-name {\n    font-size: rem(7);\n  }\n  .c-teacher-calendar__user-link {\n    display: none;\n  }\n}\n</style>\n"]}]}