{"remainingRequest":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\src\\views\\PurchaseSuccess.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\src\\views\\PurchaseSuccess.vue","mtime":1625895134250},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\tamer\\Desktop\\MAIN\\studiait-front-old\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmMtcHVyY2hhc2Utc3VjY2VzcyB7CiAgcGFkZGluZy10b3A6IHJlbSg2MSk7CiAgcGFkZGluZy1sZWZ0OiByZW0oMzEpOwogIC8vIC5jLXB1cmNoYXNlLXN1Y2Nlc3NfX2ltZwoKICAmX19pbWcgewogIH0KCiAgLy8gLmMtcHVyY2hhc2Utc3VjY2Vzc19fdGl0bGUKCiAgJl9fdGl0bGUgewogICAgQGV4dGVuZCAlaDItdGl0bGUtcmVndWxhcjsKICAgIGNvbG9yOiAkYmxhY2s7CiAgICBtYXgtd2lkdGg6IHJlbSg0NjgpOwogICAgbWFyZ2luLXRvcDogcmVtKDU0KTsKICAgIG1hcmdpbi1ib3R0b206IHJlbSgyMyk7CiAgfQoKICAvLyAuYy1wdXJjaGFzZS1zdWNjZXNzX190ZXh0CgogICZfX3RleHQgewogICAgQGV4dGVuZCAldGV4dC1taWRkbGU7CiAgICBjb2xvcjogJGdyYXk7CiAgICBtYXgtd2lkdGg6IHJlbSgzMjQpOwogIH0KCiAgLy8gLmMtcHVyY2hhc2Utc3VjY2Vzc19fbmV4dAoKICAmX19uZXh0IHsKICAgIEBleHRlbmQgJXNpbXBsZS1idG4tZ3JlZW47CiAgICB3aWR0aDogMTYzcHg7CiAgICBtYXJnaW4tdG9wOiByZW0oNDYpOwogIH0KfQo="},{"version":3,"sources":["PurchaseSuccess.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"PurchaseSuccess.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"c-purchase-success\">\n    <figure class=\"c-purchase-success__img\">\n      <img src=\"img/ill/buy-plan/buy-success.svg\" alt=\"\" />\n    </figure>\n    <h1 class=\"c-purchase-success__title\">\n      Покупка пакета «Классический» прошла успешно!\n    </h1>\n    <p class=\"c-purchase-success__text\">\n      Выбери симпатичного тебе преподавателя и удобное время для занятий.\n    </p>\n    <router-link :to=\"{ name: 'HomePage' }\" class=\"c-purchase-success__next\">\n      <span>Продолжить</span>\n    </router-link>\n  </div>\n</template>\n\n<script>\nimport $http from \"@/service/index.js\";\nexport default {\n  name: \"PurchaseSuccess\",\n  mounted() {\n    const {\n      day,\n      full_from,\n      full_to,\n      teacher,\n      description,\n      lesson_type_id,\n      lesson_type_slug,\n    } = this.$route.query;\n    const SendingData = {\n      day,\n      full_from,\n      full_to,\n      teacher,\n      description,\n      lesson_type_id,\n      lesson_type: lesson_type_slug\n    };\n    $http\n      .create_lesson(SendingData)\n      .then(() => {\n        this.$store.dispatch(\"set_loading\", true);\n        this.$store.dispatch(\"user/get_lessons\").then(() => {\n          this.$router.push({ name: \"Calendar\" });\n          this.$store.dispatch(\"set_loading\", false);\n          // this.$store.dispatch(\"show_reservation_lesson_modal\", {\n          //   data: { date: this.day },\n          //   modal_name: \"lessons-modal\"\n          // });\n        });\n      })\n      .catch(({ response }) => {\n        const { status } = response;\n        if (status === 400) {\n          this.$store.dispatch(\"error_handler\", {\n            type: \"danger\",\n            text: \"Время уже занято. Попробуйте другое\"\n          });\n          return;\n        } else if (status === 422) {\n          this.$store.dispatch(\"error_handler\", {\n            type: \"danger\",\n            text: \"Заполните все поля!\"\n          });\n          return;\n        }\n        this.$store.dispatch(\"error_handler\", {\n          type: \"danger\",\n          text: \"Не удалось назначить занятие! Попробуйте еще раз.\"\n        });\n      });\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.c-purchase-success {\n  padding-top: rem(61);\n  padding-left: rem(31);\n  // .c-purchase-success__img\n\n  &__img {\n  }\n\n  // .c-purchase-success__title\n\n  &__title {\n    @extend %h2-title-regular;\n    color: $black;\n    max-width: rem(468);\n    margin-top: rem(54);\n    margin-bottom: rem(23);\n  }\n\n  // .c-purchase-success__text\n\n  &__text {\n    @extend %text-middle;\n    color: $gray;\n    max-width: rem(324);\n  }\n\n  // .c-purchase-success__next\n\n  &__next {\n    @extend %simple-btn-green;\n    width: 163px;\n    margin-top: rem(46);\n  }\n}\n</style>\n"]}]}